e929f35a77734a687085077b315a7c9e|file:///home/andres/workspace/futurymall-stores-panel/components/coupons/form.vue|29|1|V|vue
	    <div class="w-full max-h-full overflow-auto md:p-1 md:pr-4 px-2 py-1">
e2516c203902230766cda7cf4adb3eed|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|267|5|V|vue
	      <div>
08fa22a8f19d6816386aaf0012dce79e|file:///home/andres/workspace/futurymall-stores-panel/components/coupons/form.vue|30|4|v|vue
	   <div
	        class="bg-white rounded-lg shadow-section flex flex-wrap justify-center p-4"
	      >
3754c267ae8940e61a4a78edc60baaa3|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|267|1|V|vue
	      <div class="w-full max-h-full overflow-auto md:p-1 md:pr-4 px-2 py-1">
4885878e94757376ae98296581e94a68|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|304|1|v|vue
	
	        <div class="w-full md:w-1/2 relative flex-none">
	          <div class="w-full flex flex-wrap"></div>
	        </div>
	
	
aa55a175e43b6e244de252c6b8804a82|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|268|8|v|vue
	 <div class="w-full md:w-1/2 relative flex-none">
	          <div class="w-full flex flex-wrap">
	            <div class="w-full md:px-3 mb-2 md:mb-4">
	              <div
	                class="w-full text-sm pr-2 flex items-start flex-none md:py-2 lg:px-0 xl:py-2 font-semibold"
	              >
	                Desde:<span class="text-red-500">*</span>
	              </div>
	              <div class="w-full">
	                <el-date-picker
	                  v-model="range"
	                  class="input-custom__date-picker-range"
	                  type="datetime"
	                  placeholder="Seleccione una fecha"
	                >
	                </el-date-picker>
	              </div>
	            </div>
	            <div class="w-full md:px-3 mb-2 md:mb-4">
	              <div
	                class="w-full text-sm pr-2 flex items-start flex-none md:py-2 lg:px-0 xl:py-2 font-semibold"
	              >
	                Hasta:<span class="text-red-500">*</span>
	              </div>
	              <div class="w-full">
	                <el-date-picker
	                  v-model="range"
	                  class="input-custom__date-picker-range"
	                  type="datetime"
	                  placeholder="Seleccione una fecha"
	                >
	                </el-date-picker>
	              </div>
	            </div>
	          </div>
	        </div>
	
e69fde683d47e4e062cf96a71b16d9ea|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|268|9|v|vue
	<div class="w-full md:w-1/2 relative flex-none">
	          <div class="w-full flex flex-wrap">
	            <div class="w-full md:px-3 mb-2 md:mb-4">
	              <div
	                class="w-full text-sm pr-2 flex items-start flex-none md:py-2 lg:px-0 xl:py-2 font-semibold"
	              >
	                Desde:<span class="text-red-500">*</span>
	              </div>
	              <div class="w-full">
	                <el-date-picker
	                  v-model="range"
	                  class="input-custom__date-picker-range"
	                  type="datetime"
	                  placeholder="Seleccione una fecha"
	                >
	                </el-date-picker>
	              </div>
	            </div>
	            <div class="w-full md:px-3 mb-2 md:mb-4">
	              <div
	                class="w-full text-sm pr-2 flex items-start flex-none md:py-2 lg:px-0 xl:py-2 font-semibold"
	              >
	                Hasta:<span class="text-red-500">*</span>
	              </div>
	              <div class="w-full">
	                <el-date-picker
	                  v-model="range"
	                  class="input-custom__date-picker-range"
	                  type="datetime"
	                  placeholder="Seleccione una fecha"
	                >
	                </el-date-picker>
	              </div>
	            </div>
	          </div>
	
e186c2d69562f4750513bf8032ed925c|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|267|8|v|vue
	div class="flex flex-wrap justify-center">
	        <div class="w-full md:w-1/2 relative flex-none">
	          <div class="w-full flex flex-wrap">
	            <div class="w-full md:px-3 mb-2 md:mb-4">
	              <div
	                class="w-full text-sm pr-2 flex items-start flex-none md:py-2 lg:px-0 xl:py-2 font-semibold"
	              >
	                Desde:<span class="text-red-500">*</span>
	              </div>
	              <div class="w-full">
	                <el-date-picker
	                  v-model="range"
	                  class="input-custom__date-picker-range"
	                  type="datetime"
	                  placeholder="Seleccione una fecha"
	                >
	                </el-date-picker>
	              </div>
	            </div>
	            <div class="w-full md:px-3 mb-2 md:mb-4">
	              <div
	                class="w-full text-sm pr-2 flex items-start flex-none md:py-2 lg:px-0 xl:py-2 font-semibold"
	              >
	                Hasta:<span class="text-red-500">*</span>
	              </div>
	              <div class="w-full">
	                <el-date-picker
	                  v-model="range"
	                  class="input-custom__date-picker-range"
	                  type="datetime"
	                  placeholder="Seleccione una fecha"
	                >
	                </el-date-picker>
	              </div>
	            </div>
	          </div>
	
c6c73b620be4f987ea1d184f2a4ac693|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|304|1|v|vue
	
	        <div class="w-full md:w-1/2 relative flex-none">
	          <div class="w-full flex flex-wrap"></div>
	        </div>
6b552469cb6aa70fd5b312c855dbc2b5|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|268|5|v|vue
	    <div class="w-full md:w-1/2 relative flex-none">
	          <div class="w-full flex flex-wrap">
	            <div class="w-full md:px-3 mb-2 md:mb-4">
	              <div
	                class="w-full text-sm pr-2 flex items-start flex-none md:py-2 lg:px-0 xl:py-2 font-semibold"
	              >
	                Desde:<span class="text-red-500">*</span>
	              </div>
	              <div class="w-full">
	                <el-date-picker
	                  v-model="range"
	                  class="input-custom__date-picker-range"
	                  type="datetime"
	                  placeholder="Seleccione una fecha"
	                >
	                </el-date-picker>
	              </div>
	            </div>
	            <div class="w-full md:px-3 mb-2 md:mb-4">
	              <div
	                class="w-full text-sm pr-2 flex items-start flex-none md:py-2 lg:px-0 xl:py-2 font-semibold"
	              >
	                Hasta:<span class="text-red-500">*</span>
	              </div>
	              <div class="w-full">
	                <el-date-picker
	                  v-model="range"
	                  class="input-custom__date-picker-range"
	                  type="datetime"
	                  placeholder="Seleccione una fecha"
	                >
	                </el-date-picker>
	              </div>
	            </div>
	          </div>
	        </div>
7ee9356c8d87a708c30525e32c5bd3fa|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|307|1|v|vue
	            <div class="w-full md:px-3 mb-2 md:mb-4">
	              <div
	                class="w-full text-sm pr-2 flex items-start flex-none md:py-2 lg:px-0 xl:py-2 font-semibold"
	              >
	                Desde:<span class="text-red-500">*</span>
	              </div>
	              <div class="w-full">
	                <el-date-picker
	                  v-model="range"
	                  class="input-custom__date-picker-range"
	                  type="datetime"
	                  placeholder="Seleccione una fecha"
	                >
	                </el-date-picker>
	              </div>
	            </div>
37b19816109a32106d109e83bbb3c97d|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|299|28|v|vue
	range
f6d51754a1223eb060a7eb3820ee5d44|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|333|16|V|vue
	      range: "",
bf604b38c3e60171c975894bd0cd006b|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|293|14|v|vue
	 <div
	                class="w-full text-sm pr-2 flex items-start flex-none md:py-2 lg:px-0 xl:py-2 font-semibold"
	              >
	                Hasta:<span class="text-red-500">*</span>
c5cfa602bb43dad099cbffcc396266aa|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|316|17|v|vue
	Hasta:
ef1454506980cf870c23d4acec989f64|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|313|1|v|vue
	 <div
	                class="w-full text-sm pr-2 flex items-start flex-none md:py-2 lg:px-0 xl:py-2 font-semibold"
	              >
	                <span class="text-red-500">Por defecto si usted no selecciona fecha se</span>
0c738638aa31bd865bf1926ac8366e45|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|283|25|v|vue
	reportEndDate
aab2e0e6f64894d71c1e2d0f74a30e9e|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|337|3|v|vue
	    reportStartDate: new Date(2018, 0, 1, 0, 0),
	      reportEndDate: Date.now(),
d51fd9659b44b4316468398923bec9be|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|340|13|v|vue
	reportStartDate
4871f30b7645320fd06b2de265e70a78|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|337|1|v|vue
	      reportStartDate: new Date(2018, 0, 1, 0, 0),
	      reportEndDate: Date.now(),
6446e9efde207ecff73359e3115630b2|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|306|37|V|vue
	                  :min="reportStartDate"
90d2214e761cd59528b9af00e01fb8c9|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|283|33|V|vue
	                  :max="Date.now()"
8fb739c82c1da888bdcf9130dd33b99a|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|338|19|v|vue
	new Date(2020, 0, 1, 0, 0)
91ca952a10501ea7c0616f29b730634c|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|1|1|V|vue
	        disabledTime: this.disabledDueDate,
d57e13586984030c6eb86e4f8ed358ea|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|75|1|v|javascriptreact
	    createdDate: {
	      $gte: startDate,
	      $lt: endDate,
	    },
c13367945d5d4c91047b3b50234aa7ab|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|409|45|v|vue
	code
b8995f4349ef49575fb6582bc9584e0c|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|411|1|V|vue
	                  value: (row) => (!row.code ? "-" : row.code),
2b99ccd0e801325fa5d710c31cc33097|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|423|19|V|vue
	                  value: "email",
374b88902e002fbcf3237bb0643ca51d|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|423|1|V|vue
	                  value: (row) => (!row.email ? "-" : row.email),
69973d97f8695245e55c95193944f6ae|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|427|19|V|vue
	                  value: "phone",
46a0c238eb32c016f07ba5dd84bf3ecb|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|427|1|V|vue
	                  value: (row) => (!row.phone ? "-" : row.phone),
f7a42fe7211f98ac7a60a285ac3a9e87|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|432|41|v|vue
	phone
98f7b486548fb08e2a434270e238b738|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|432|1|V|vue
	                  value: (row) => (!row.address ? "-" : row.address),
c7d40aae1cca6478578f37fc18bb2fef|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|431|19|V|vue
	                  value: "address",
38805738ce0537f5183893f71cdd1662|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|435|19|V|vue
	                  value: "paymentMethod",
884d9804999fc47a3c2694e49ad2536a|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|435|41|v|vue
	address
ca82e07c4558535582f334bf16fb5e28|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|435|1|V|vue
	                  value: (row) => (!row.paymentMethod ? "-" : row.paymentMethod),
e43918aac0193af1eab669e2581b55ba|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|437|49|v|vue
	 value: "paymentInfo", 
68ec1eeea9f1b7744e231b5bd0d97df0|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|441|26|v|vue
	paymentMethod
b697d8f8571d8026ad054a16ce5f94e0|file:///home/andres/workspace/futurymall-stores-panel/pages/dashboard/mis-ordenes/index.vue|315|54|v|vue
	Hacer
4cacd8664fdd477bdd2897acd9d23243|file:///home/andres/workspace/futurymall-api/src/controllers/admin/orders/order.controller.js|61|23|V|javascriptreact
	    console.log(req.query, req.params);
2bda90195731b0f0d1ccbb06f6567f01|file:///home/andres/workspace/futurymall-api/src/repositories/orders/order.repository.js|20|1|v|javascriptreact
	async function findAllOrdersToReport(params) {
	  try {
	    let orders = await orderModel
	      .find(params)
	      .select(
	        'code createdDate name lastName email phone address paymentMethod paymentInfo',
	      )
	      .sort({ createdDate: -1 });
	    return orders;
	  } catch (error) {
	    return error.message;
	  }
	}
cdaf10717d4a933a747e91302bf82459|file:///home/andres/workspace/futurymall-api/src/repositories/orders/order.repository.js|34|16|v|javascriptreact
	findAllOrdersToReport
26ad3ca17de93c29d17c61b761b9879d|file:///home/andres/workspace/futurymall-api/src/repositories/orders/order.repository.js|39|12|V|javascriptreact
	      .sort({ createdDate: -1 });
12c500ed0b7879105fb46af0f246be87|file:///home/andres/workspace/futurymall-api/src/repositories/orders/order.repository.js|36|9|v|javascriptreact
	orders
c10bdb6b92b3c8d839e6e260d0efee91|file:///home/andres/workspace/futurymall-api/src/repositories/orders/order.repository.js|84|1|V|javascriptreact
	  findAllOrdersToReport,
84f1b750dbe2bbab0e19fc67bac0759b|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|57|1|v|javascriptreact
	async function findAllOrderService(idStore) {
	  let params = {
	    idStore: idStore,
	    flgActive: true,
	    showInDashboard: { $ne: false },
	  };
	  let ordersRes = await orderRepository.findAllOrder(params);
	  let res = [];
	  for (let ord of ordersRes) {
	    ord = JSON.parse(JSON.stringify(ord));
	    ord.details = await orderDetailService.findAllOrderDetailService(ord._id);
	    res.push(ord);
	  }
	  return res;
	}
	
be3ba9b901866a6be89714ef42e37648|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|73|1|v|javascriptreact
	async function findAllOrdersToReport(idStore, startDate, endDate) {
	  let params = {
	    createdDate: {
	      $gte: startDate || new Date(0),
	      $lt: !endDate || endDate <= startDate ? Date.now() : endDate,
	    },
	    idStore: idStore,
	    flgActive: true,
	    showInDashboard: { $ne: false },
	  };
	  let ordersRes = await orderRepository.findAllOrdersToReport(params);
	  return ordersRes;
	}
6d7d98d13fba68042887e7eebba9c434|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|73|1|v|javascriptreact
	async function findAllOrdersToReport(idStore, startDate, endDate) {
	  let params = {
	    createdDate: {
	      $gte: startDate || new Date(0),
	      $lt: !endDate || endDate <= startDate ? Date.now() : endDate,
	    },
	    idStore: idStore,
	    flgActive: true,
	    showInDashboard: { $ne: false },
	  };
	  let ordersRes = await orderRepository.findAllOrdersToReport(params);
	  retu
73d78ea689df5a55dab477a891270b35|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|97|7|v|javascriptreact
	ordersRes
3e30ce7e54cda1caf18b23d26c520d80|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|98|10|v|javascriptreact
	orderRes
f330e689bae34778f891dbcccba3f148|file:///home/andres/workspace/futurymall-api/src/controllers/admin/orders/order.controller.js|58|1|v|javascriptreact
	router.get('/report/:idStore', async (req, res) => {
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	  try {
	    let orderResult = await orderService.findAllOrdersToReport(
	      req.params.idStore,
	      req.query.startDate,
	      req.query.endDate,
	    );
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = orderResult.length;
	    response.objetos = orderResult;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.http ? error.http : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    r
e98d2f001da5678b39482efbdf5770dc|file:///home/andres/workspace/futurymall-api/src/controllers/admin/orders/order.controller.js|83|14|v|javascriptreact
	report
2b1bb7941a660d0c1357ad6f1c1c0b1a|file:///home/andres/workspace/futurymall-api/src/controllers/admin/orders/order.controller.js|86|9|v|javascriptreact
	orderResult
2e09b559e558c343957f7d69ca6e901c|file:///home/andres/workspace/futurymall-api/src/controllers/admin/orders/order.controller.js|105|7|V|javascriptreact
	return ;
1c66b2cd91ea1ff738123e3126ab2311|file:///home/andres/workspace/futurymall-api/src/controllers/admin/orders/order.controller.js|72|1|V|javascriptreact
	    res.status(response.code).json(response);
b380db7e9efc33b500f7373329eb234e|file:///home/andres/workspace/futurymall-api/src/controllers/admin/products/product.controllers.js|140|17|V|javascriptreact
	// Probar funcion
b57b4d46230f60152867e3b9749cd0b1|file:///home/andres/workspace/futurymall-api/src/controllers/admin/products/product.controllers.js|51|31|V|javascriptreact
	      console.log('productCategory', productCategory);
2b1da85efd17d698defd3d33e67ba788|file:///home/andres/workspace/futurymall-api/src/controllers/admin/products/product.controllers.js|152|1|v|javascriptreact
	      // let productsResult = await productService.findAllProductsService(
	      // params,
031c2be7db04c567a8b3b9e19aa599be|file:///home/andres/workspace/futurymall-api/src/controllers/admin/products/product.controllers.js|108|27|V|javascriptreact
	    const { sort, page, itemsPerPage } = req.query;
4be581176c631bde8f5ec31ba78acbf4|file:///home/andres/workspace/futurymall-api/src/controllers/admin/products/product.controllers.js|108|27|V|javascriptreact
	    let { categories } = req.query;
c234aa2890223884766645f9bdc6f44c|file:///home/andres/workspace/futurymall-api/src/controllers/admin/products/product.controllers.js|108|27|V|javascriptreact
	    categories = categories.split(',');
16e6b8aeca9169a3822f0dc1bbd410dd|file:///home/andres/workspace/futurymall-api/src/controllers/admin/products/product.controllers.js|108|27|V|javascriptreact
	    delete req.query.categories;
f302dd5a368c353923f600437b0ef04d|file:///home/andres/workspace/futurymall-api/src/controllers/admin/products/product.controllers.js|108|26|V|javascriptreact
	    delete req.query.sort;
8d35b8b3553aa8f603345da150eccfc4|file:///home/andres/workspace/futurymall-api/src/controllers/admin/products/product.controllers.js|108|26|V|javascriptreact
	    delete req.query.page;
eaca24191021014ec905dcca476f7bd9|file:///home/andres/workspace/futurymall-api/src/controllers/admin/products/product.controllers.js|108|26|V|javascriptreact
	    delete req.query.itemsPerPage;
cadc8c8db42409733582cb3e2298ef87|file:///home/andres/workspace/futurymall-api/src/controllers/admin/products/product.controllers.js|115|7|v|javascriptreact
	sort
0d36a67e741473e3accb261e92f65541|file:///home/andres/workspace/futurymall-api/src/controllers/admin/orders/order.controller.js|36|2|v|javascriptreact
	 const response = JSON.parse(JSON.stringify(myGenericResponse));
	  try {
	    let orderResult = await orderService.findAllOrderService(
	      req.params.idStore,
	    );
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = orderResult.length;
	    response.objetos = orderResult;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.http ? error.http : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
57725d54425503a3ca40ceabf3c2b9cb|file:///home/andres/workspace/futurymall-api/src/controllers/admin/orders/order.controller.js|58|26|v|javascriptreact
	idStore
21ffce5b8a6cc8cc6a41448dd69623c9|file:///home/andres/workspace/futurymall-api/src/controllers/admin/orders/order.controller.js|62|11|v|javascriptreact
	params
db1782ea2852ed0795b59338324e208d|file:///home/andres/workspace/futurymall-api/src/repositories/orders/order.repository.js|15|2|v|javascriptreact
	 try {
	    return await orderModel.find(params);
	  } catch (error) {
	    return error.message;
	  }
6e0e486e3e459128f29a914109c41293|file:///home/andres/workspace/futurymall-api/src/repositories/orders/order.repository.js|24|40|V|javascriptreact
	    return await orderModel.find(params);
0cfa954b28e752ec9ea532a606af409f|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|85|1|v|javascriptreact
	try {
	  
	} catch (e) {
	  /* handle error */
	}
b01a39c0581ae911bc2cef8d07b0f995|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|66|1|v|javascriptreact
	  let res = [];
	  for (let ord of ordersRes) {
	    ord = JSON.parse(JSON.stringify(ord));
	    ord.details = await orderDetailService.findAllOrderDetailService(ord._id);
	    res.push(ord);
	  }
	  return res;
627dc86cfa1664fc93a87eafc781faf0|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|46|1|v|javascriptreact
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	
	  try {
	    const coupons = await couponService.findAllCoupons(idStore);
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = coupons.length;
	    response.objetos = coupons;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.httpStatus ? error.httpStatus : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
8294327184a72e214105a6a2b5659018|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|73|50|V|javascriptreact
	    const { itemsPerPage, sort, page } = req.body;
c344834fea83b707dda5db7ea414924c|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|73|22|V|javascriptreact
	    const { idStore , ...} = req.body;
841a2d689ad86bd1611447453c22c6fc|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|74|60|v|javascriptreact
	body
6e82d6b7735e4104958dc3adbbbf5df9|file:///home/andres/workspace/futurymall-api/src/services/coupons/coupon.service.js|41|1|v|javascriptreact
	  const storeExists = await storeService.getStoreById(idStore);
	
	  if (!storeExists) {
	    return {
	      status_code: 400,
	      message: 'La tienda no existe.',
	      error_message: 'Store does not exist',
	    };
	  }
	
	  const couponsArr = await couponRepository.findAllCoupons({ idStore });
	
	  return couponsArr;
80d5b17efc16ace990c07580fc3e85eb|file:///home/andres/workspace/futurymall-api/src/repositories/coupon/coupon.respository.js|4|4|V|javascriptreact
	try{
446d4f830344eb79e3c0e8b26caf74a0|file:///home/andres/workspace/futurymall-api/src/repositories/coupon/coupon.respository.js|6|1|v|javascriptreact
	  try {
	    const couponCreated = await couponModel.create(params);
	    return couponCreated;
	  } catch (error) {
	    return error.message;
	  }
76ea0bebb3c22822b4f0dd9c9fd021c5|file:///home/andres/workspace/futurymall-api/src/repositories/coupon/coupon.respository.js|5|45|v|javascriptreact
	create
7817cd3922a28fe351d9528a9bfcdbe1|file:///home/andres/workspace/futurymall-api/src/services/coupons/coupon.service.js|70|45|v|javascriptreact
	findAllCoupons
a4ddcbe0e347bb244944be2b31190a23|file:///home/andres/workspace/alvarod-api/package.json|9|14|v|json
	cesaralvarod
bf7c99592e3b8c93ce1086a0036a94fd|file:///home/andres/workspace/alvarod-panel/src/index.js|7|13|v|javascriptreact
	DOMAIN
1aa0b4911486487e9c17937a74d88b81|file:///home/andres/workspace/alvarod-panel/src/index.js|4|15|V|javascriptreact
	import "process";
588849c53d308159efa1ca45e581904b|file:///home/andres/workspace/alvarod-panel/src/index.js|7|23|V|javascriptreact
	console.log(process.env);
3f5ead17822b4cd022532df7dc2479c4|file:///home/andres/workspace/alvarod-panel/src/index.js|4|8|v|javascriptreact
	dotenv
939a97dc70f85e421f574cc035f73cb2|file:///home/andres/workspace/alvarod-panel/src/index.js|4|15|V|javascriptreact
	import "dotenv";
4504f6b002d4f4171ce5276ace2bc2b7|file:///home/andres/workspace/alvarod-panel/src/index.js|9|33|V|javascriptreact
	  console.log("Entorno: Desarrollo");
156af634f63ef94e055b264c29191d02|file:///home/andres/workspace/alvarod-panel/src/index.js|9|28|V|javascriptreact
	  require("dotenv").config({ path: "" });
83b9703c4ec6803974501b9a83ff68d8|file:///home/andres/workspace/alvarod-panel/src/index.js|7|1|v|javascriptreact
	if (process.env.NODE_ENV === "development") {
	  // require("dotenv");
	  console.log(process.env);
	}
901555fb06e346cb065ceb9808dcfc25|file:///home/andres/workspace/alvarod-api/src/index.js|7|12|v|javascriptreact
	port
0897acf49c7c1ea9f76efe59187aa046|file:///home/andres/workspace/alvarod-api/src/index.js|8|18|v|javascriptreact
	hostname
f6f32d1030c1ac839b60c3e58ea913dd|file:///home/andres/workspace/alvarod-api/package.json|9|14|V|json
	    "start": "node src/index.js"
b026809dc5d118cd45cb15b07db57e06|file:///home/andres/workspace/alvarod-api/package.json|8|33|V|json
	    "test": "echo \"Error: no test specified\" && exit 1",
c4ae30aeb15a4f2b1f07e2b23292baab|file:///home/andres/workspace/alvarod-api/src/index.js|6|39|V|javascriptreact
	const port = process.env.APP_PORT || 4000;
5b1daff0691ee1f3d1a241e1089a6098|file:///home/andres/workspace/alvarod-api/src/config/db.js|1|34|V|javascriptreact
	const mongoose = require("mongoose");
2a88962c8ff1f0955eed5a42655dc317|file:///home/andres/workspace/alvarod-api/.env|2|17|v|sh
	TH9vTkoOfmQI2L5X;
5f4dcc3b5aa765d61d8327deb882cf99|file:///home/andres/workspace/alvarod-api/.env|1|33|v|sh
	password
21232f297a57a5a743894a0e4a801fc3|file:///home/andres/workspace/alvarod-api/.env|1|26|v|sh
	admin
93940d4d6a0b82a8390b94ff450a345f|file:///home/andres/workspace/alvarod-api/.env|2|30|V|sh
	APP_DB_PASSWORD=TH9vTkoOfmQI2L5X;
c62dae6ef97593069912b8c4208482d1|file:///home/andres/workspace/alvarod-api/src/config/database.js|10|15|V|javascriptreact
	mongoose.connect(process.env.URI);
3e15a7c106d4a6f075a00bf228a6bb3e|file:///home/andres/workspace/alvarod-api/src/config/database.js|4|10|V|javascriptreact
	  mongoose.connect(process.env.URI);
35b4278ab0e27f355351ede7366239f9|file:///home/andres/workspace/alvarod-api/src/config/database.js|5|1|v|javascriptreact
	
	try {
	  console.log("Database Connected");
	} catch (e) {
	  /* handle error */
	  console.error(e);
	}
6b093a398f4e37cb41ef1d219ecc2050|file:///home/andres/workspace/alvarod-api/src/models/User/User.js|2|27|V|javascriptreact
	const { Schema } = mongoose;
758d31f351ce11bf27c522f516cb4c20|file:///home/andres/workspace/alvarod-api/src/models/User/User.js|1|7|v|javascriptreact
	mongoose
8f9bfe9d1345237cb3b2b205864da075|file:///home/andres/workspace/alvarod-api/src/index.js|7|19|v|javascriptreact
	User
c21f969b5f03d33d43e04f8f136e7682|file:///home/andres/workspace/alvarod-api/src/models/User/User.js|10|8|v|javascriptreact
	default
c20e0fd80051ed1293e492d784d316e2|file:///home/andres/workspace/alvarod-api/src/routes/index.js|5|4|V|javascriptreact
	res.
eede20c4c27094356d31704ef66e1b2d|file:///home/andres/workspace/alvarod-api/src/index.js|7|18|V|javascriptreact
	require("./models/");
63e1cf83625871c604117ba520667ed8|file:///home/andres/workspace/alvarod-api/src/index.js|1|5|V|javascriptreact
	require("dotenv").config();
1f38e663e8678564fd7a6285f4298259|file:///home/andres/workspace/alvarod-api/src/index.js|6|5|V|javascriptreact
	require("./config/database");
4e64bf86f66832e98c673b8962d24eb2|file:///home/andres/workspace/alvarod-api/src/index.js|12|1|V|javascriptreact
	  );
2b9db14d79e2043fbf232a5f5e8e4754|file:///home/andres/workspace/alvarod-api/src/index.js|11|1|V|javascriptreact
	    } mode.`
5764dd8d3ef7bfcf5de4fa4924140c83|file:///home/andres/workspace/alvarod-api/src/index.js|10|1|V|javascriptreact
	      process.env.NODE_ENV
0335d96fffcdfd7eea6ea8fe2676bcd7|file:///home/andres/workspace/alvarod-api/src/index.js|3|10|V|javascriptreact
	const express = require("express");
4ca65a8bdbeae8b6ee400801a8a8f812|file:///home/andres/workspace/alvarod-api/src/index.js|3|13|v|javascriptreact
	express
ac5552fd6a3c08ad22387efbe42d137d|file:///home/andres/workspace/alvarod-api/src/config/app.js|4|12|v|javascriptreact
	models
2245023265ae4cf87d02c8b6ba991139|file:///home/andres/workspace/alvarod-api/src/config/app.js|5|12|v|javascriptreact
	config
08573553e1195ef7f9b2657721c02a8f|file:///home/andres/workspace/alvarod-api/src/index.js|4|23|v|javascriptreact
	());
faeeade362c8dbc4dfbf053902f7072f|file:///home/andres/workspace/alvarod-api/src/index.js|4|22|V|javascriptreact
	console.log(app.Router
7d793037a0760186574b0282f2f435e7|file:///home/andres/workspace/alvarod-api/src/routes/index.js|5|19|v|javascriptreact
	world
b51f3d96e15da3562df1c2064082f771|file:///home/andres/workspace/futurymall-api/src/models/coupon/coupon.schema.js|1|1|v|javascriptreact
	const { Schema, model } = require('mongoose');
	
	const couponSchema = new Schema(
	  {
	    idStore: {
	      type: Schema.Types.ObjectId,
	      required: true,
	    },
	    createdBy: {
	      types: Schema.Types.ObjectId,
	    },
	    modifiedBy: {
	      types: Schema.Types.ObjectId,
	    },
	    code: {
	      type: String,
	      required: true,
	    },
	    type: {
	      type: String,
	      enum: ['percentage', 'fixed_value'],
	      required: true,
	    },
	    value: {
	      type: Number,
	      required: true,
	    },
	    start_date: {
	      type: Date,
	      default: Date.now(),
	    },
	    expiration_date: {
	      type: Date,
	      required: true,
	    },
	    stock: {
	      type: Number,
	    },
	  },
	  { timestamps: true },
	);
	
	module.exports = model('coupon', couponSchema);
2fb436cc846edd67e356f8cd90213300|file:///home/andres/workspace/futurymall-api/src/models/comment/comment.schema.js|3|7|v|javascriptreact
	couponSchema
0900e1b184ab5fcda19894150a791622|file:///home/andres/workspace/futurymall-api/src/models/comment/comment.schema.js|5|4|v|javascriptreact
	 idStore: {
	      type: Schema.Types.ObjectId,
	      required: true,
	    },
	    createdBy: {
	      types: Schema.Types.ObjectId,
	    },
	    modifiedBy: {
	      types: Schema.Types.ObjectId,
	    },
	    code: {
	      type: String,
	      required: true,
	    },
	    type: {
	      type: String,
	      enum: ['percentage', 'fixed_value'],
	      required: true,
	    },
	    value: {
	      type: Number,
	      required: true,
	    },
	    start_date: {
	      type: Date,
	      default: Date.now(),
	    },
	    expiration_date: {
	      type: Date,
	      required: true,
	    },
	    stock: {
	      type: Number,
	    },
7471c77cffe54f94937adf160323d557|file:///home/andres/workspace/alvarod-api/src/config/database.js|7|1|v|javascriptreact
	
	const db = mongoose.connection;
	db.on("error", console.error);
3a28b612d85d94ee59f16c1e4317ccc7|file:///home/andres/workspace/alvarod-api/src/config/database.js|7|1|V|javascriptreact
	module.export = db;
1f086da702c912a78a2143dc33c0c0e8|file:///home/andres/workspace/alvarod-api/.env|1|80|v|sh
	alvarod
098f6bcd4621d373cade4e832627b4f6|file:///home/andres/workspace/alvarod-api/.env|1|80|v|sh
	test
a0c098c6bd1338bbb7d4938d04c88ed4|file:///home/andres/workspace/alvarod-api/src/models/user/User.model.js|6|1|V|javascriptreact
	    required: true,
bb97229392b9913fb91366548db28d65|file:///home/andres/workspace/alvarod-api/src/models/user/User.model.js|14|13|V|javascriptreact
	required:fals
dd485e41f1758def296e1bc7377f8ea7|file:///home/andres/workspace/alvarod-api/src/routes/index.js|5|18|v|javascriptreact
	mundo
de112f1ff7af9be29c7aab944f7add57|file:///home/andres/workspace/alvarod-api/src/routes/auth/index.js|8|1|v|javascriptreact
	// GET -> Get all users
	
	router.get("/all", (req, res) => {
	  res.json({
	    ok: true,
	  });
	});
	
	
9bc65c2abec141778ffaa729489f3e87|file:///home/andres/workspace/alvarod-api/src/routes/auth/index.js|16|19|v|javascriptreact
	users
61344779ac48c141400886338f36e24a|file:///home/andres/workspace/alvarod-api/src/routes/auth/index.js|26|14|V|javascriptreact
	router.put("/:")
97cbabea978102a32251f272500850af|file:///home/andres/workspace/alvarod-api/src/routes/auth/index.js|18|1|v|javascriptreact
	router.get("/:userId", (req, res) => {
	  res.json({
	    ok: true,
	  });
	});
8dcc9714895667fb06b7e1fbdb890e91|file:///home/andres/workspace/alvarod-api/src/routes/auth/index.js|24|1|v|javascriptreact
	// PUT -> Update user by id
	
	router.put("/:userId", (req, res) => {
	  res.json({
	    ok: true,
	  });
	});
06933067aafd48425d67bcb01bba5cb6|file:///home/andres/workspace/alvarod-api/src/routes/auth/index.js|32|14|v|javascriptreact
	Update
ba2901479eb1b282e7d2b1cec2ab5967|file:///home/andres/workspace/alvarod-react/tailwind.config.js|6|15|V|javascriptreact
	        principal: "#f59842",
a9f0e61a137d86aa9db53465e0801612|file:///home/andres/workspace/alvarod-react/tailwind.config.js|6|9|v|javascriptreact
	second
4b0fc52b156d994f222f7792438da594|file:///home/andres/workspace/alvarod-react/tailwind.config.js|7|12|V|javascriptreact
	        second: "#484041",
e7d715a9b79d263ae527955341bbe9b1|file:///home/andres/workspace/alvarod-react/tailwind.config.js|7|9|v|javascriptreact
	principal
3fd6cf632e4ddfffe96d4f9057ddf9fd|file:///home/andres/workspace/alvarod-react/tailwind.config.js|8|9|V|javascriptreact
	        third: "#f93e3e",
dd5c8bf51558ffcbe5007071908e9524|file:///home/andres/workspace/alvarod-react/tailwind.config.js|7|9|v|javascriptreact
	third
aa4ba24d0118caba8520d7e2a7428db4|file:///home/andres/workspace/alvarod-react/tailwind.config.js|9|9|v|javascriptreact
	hoverThird
6e559557b863a71f16e54a1addf8d4d9|file:///home/andres/workspace/alvarod-react/tailwind.config.js|7|19|v|javascriptreact
	484041
c1c425268e68385d1ab5074c17a94f14|file:///home/andres/workspace/alvarod-react/src/components/home/Comments.js|3|1|v|javascriptreact
	function
5dd7ac3770aaf6a4c6944ab4ce95f50c|file:///home/andres/workspace/alvarod-react/src/components/home/Comments.js|1|17|v|javascriptreact
	useState
1aa6646226a54b49334030cee99d933c|file:///home/andres/workspace/alvarod-react/src/components/home/Comments.js|5|36|v|javascriptreact
	darkSlate
97d790a1696f681a894570783c18806b|file:///home/andres/inteligencia-artificial/primeros-pasos/webcam.py|1|1|v|python
	import cv2
	
	cap = cv2 = 
dbf69b7b51449a227cb3155413e7a75c|file:///home/andres/inteligencia-artificial/primeros-pasos/main.py|3|16|V|python
	print(msg1+msg2)
811e29a7e3f2694a5434d3c152637944|file:///home/andres/inteligencia-artificial/primeros-pasos/main.py|2|14|V|python
	msg2 = "World"
a630c6a90e2363c26b83886e7a557637|file:///home/andres/inteligencia-artificial/primeros-pasos/main.py|1|14|V|python
	msg1 = "Hello"
c8ff66b3f7c28adb688dbaaf95c92edc|file:///home/andres/inteligencia-artificial/primeros-pasos/main.py|16|5|V|python
	    k
56ef95593b17140b38aaf30a145e7835|file:///home/andres/inteligencia-artificial/primeros-pasos/webcam.py|7|17|v|python
	AIOTPERU
86e5120744d7c8628cb4d966e150077c|file:///home/andres/inteligencia-artificial/primeros-pasos/drawing_line.py|1|1|v|python
	import numpy as np
	import cv2 as cv
	
	# Create a black image
	img = np.zeros((512, 512, 3), np.uint8)
	
	# Draw a diagonal blue line with thickness of 5px
	cv.line(img, (384, 0), (510, 128), (0, 255, 0), 5)
	
	cv.destroyAllWindows()
9e2689272e5c522f7d7bd2a742f3c7ca|file:///home/andres/inteligencia-artificial/primeros-pasos/drawing_line.py|20|1|V|python
	    cv.imshow('image', img)
e41c52f6e5a500019ce1581b05ababe4|file:///home/andres/workspace/futurymall-landing/components/blocks/TabsContainer/index.vue|56|16|V|vue
	  components: { FirstTab, SecondTab, ThirdTab },
d3b9538566b8b7588612f0ed935cd7bc|file:///home/andres/workspace/alvarod-panel/src/store/types/authTypes.js|1|14|v|javascriptreact
	SIGNIN_USER
cd14c323902024e72c850aa828d634a7|file:///home/andres/workspace/alvarod-panel/src/store/reducers/authReducer.js|14|11|v|javascriptreact
	case
1cbfb724ceee46cd879df7c7cfbe7dca|file:///home/andres/workspace/alvarod-panel/src/store/reducers/authReducer.js|17|7|v|javascriptreact
	break
cda7a650c5856cf2f6738072447d7825|file:///home/andres/inteligencia-artificial/detectar-rostros/main.py|15|24|v|python
	gray
6ec7309c201e4e01f7933ad692b5ad16|file:///home/andres/inteligencia-artificial/detectar-rostros/main.py|20|3|v|python
	  if cv.waitKey(1) == ord("c"):
	        print("Presionando c")
	        cv.imwrite("test.jpg", frame)
20f1392ad4eef6c96c161e398c9b8c5d|file:///home/andres/inteligencia-artificial/detectar-rostros/main.py|18|29|V|python
	        print("Presionando a")
5ae0c1c8a5260bc7b6648f6fbd115c35|file:///home/andres/workspace/futurymall-api/src/models/comment/comment.schema.js|8|5|v|javascriptreact
	photo
02bd92faa38aaa6cc0ea75e59937a1ef|file:///home/andres/workspace/futurymall-api/src/models/comment/comment.schema.js|5|5|v|javascriptreact
	author
4757fe07fd492a8be0ea6a760d683d6e|file:///home/andres/workspace/futurymall-api/src/models/comment/comment.schema.js|11|5|v|javascriptreact
	position
aaca0f5eb4d2d98a6ce6dffa99f8254b|file:///home/andres/workspace/futurymall-api/src/models/comment/comment.schema.js|5|5|v|javascriptreact
	avatar
e0a23ba932fefdbf05d5e41bacbc7258|file:///home/andres/workspace/futurymall-api/src/models/comment/comment.schema.js|3|7|v|javascriptreact
	commentSchema
fe57979ec83a09e981c80f9f9f5b092c|file:///home/andres/workspace/futurymall-api/src/controllers/site/index.js|35|1|V|javascriptreact
	router.use('/coupons', require('./coupons/coupons.controller'));
28882724d375042a7b19db1e976cb622|file:///home/andres/workspace/futurymall-api/src/controllers/site/index.js|36|14|v|javascriptreact
	coupons
594c103f2c6e04c3d8ab059f031e0c1a|file:///home/andres/workspace/futurymall-api/src/controllers/site/index.js|36|56|v|javascriptreact
	controller
e3e2a9bfd88566b05001b02a3f51d286|file:///home/andres/workspace/futurymall-api/src/repositories/testimonial/testimonial.repository.js|5|58|v|javascriptreact
	docs
dde295d0940e182e67bf3ceb39008653|file:///home/andres/workspace/futurymall-api/src/repositories/testimonial/testimonial.repository.js|16|20|V|javascriptreact
	  /* handle error */
0c88d0b25bf594c2b993752f185637c2|file:///home/andres/workspace/futurymall-api/src/repositories/coupon/coupon.respository.js|51|1|v|javascriptreact
	  try {
	    return await couponModel.findByIdAndUpdate(id, { $set: req });
	  } catch (error) {
	    return error.message;
	  }
31e42c2d275954d0450002539568d7dd|file:///home/andres/workspace/futurymall-api/src/repositories/testimonial/testimonial.repository.js|22|18|v|javascriptreact
	couponModel
f2c8e4d207088a0fe383d9e720db025b|file:///home/andres/workspace/futurymall-api/src/repositories/coupon/coupon.respository.js|59|1|v|javascriptreact
	  try {
	    return await couponModel.findByIdAndDelete(id);
	  } catch (error) {
	    return error.message;
	  }
ecda465478867dbe6f0f0a2329f30940|file:///home/andres/workspace/futurymall-api/src/services/testimonials/testimonials.service.js|3|34|v|javascriptreact
	testimonial
db98bbede4c390eb9eb35e15cea83993|file:///home/andres/workspace/futurymall-api/src/services/testimonials/testimonials.service.js|4|1|v|javascriptreact
	  const newTestimonial = await testimonialRepository.createTestimonial(params);
	
	  return newTestimonial;
6e56c2457ca165e5c9a89ea19733428c|file:///home/andres/workspace/futurymall-api/src/services/testimonials/testimonials.service.js|16|3|v|javascriptreact
	const testimonial = await testimonialRepository.findTestimonialById(id);
	
	  return testimonial;
e70eae1a888a1f8248849d2477274ad2|file:///home/andres/workspace/futurymall-api/src/services/testimonials/testimonials.service.js|22|49|v|javascriptreact
	findTestimonialById
09d10fe8e4ba3a1901de3f5d4a31f771|file:///home/andres/workspace/futurymall-api/src/controllers/site/coupons/coupons.controller.js|4|1|v|javascriptreact
	const myGenericResponse = require('../../../utils/myGenericsResponse');
	const cleanObject = require('../../../utils/cleanObject');
eda8376184b3566230613acdba0f9f8d|file:///home/andres/workspace/futurymall-api/src/controllers/site/coupons/coupons.controller.js|9|1|v|javascriptreact
	const STATUS_OK = 'ok';
	const STATUS_ERROR = 'error';
e22836a55919f6f0da57d622d9b59353|file:///home/andres/workspace/futurymall-api/src/controllers/site/coupons/coupons.controller.js|15|1|v|javascriptreact
	  const { storeId, code } = req.params;
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	
	  try {
	    const coupon = await couponService.findCouponByCode(storeId, code);
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = 1;
	    response.objetos = coupon;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.httpStatus ? error.httpStatus : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
	
f38afcc99e7ad4c394b46f2a8cf8a1dc|file:///home/andres/workspace/futurymall-api/src/controllers/site/testimonials/testimonials.controller.js|15|25|V|javascriptreact
	  const { storeId, code } = req.params;
b68787865948a577835e21f58f950ea2|file:///home/andres/workspace/futurymall-api/src/controllers/site/testimonials/testimonials.controller.js|18|26|v|javascriptreact
	couponService
c0b94c5ee32eaf5fe0f998fb35724552|file:///home/andres/workspace/futurymall-api/src/controllers/site/testimonials/testimonials.controller.js|18|45|v|javascriptreact
	findCouponByCode
d6e16e12d31ca5eaaf18ef8c8c6a3d82|file:///home/andres/workspace/futurymall-api/src/controllers/site/testimonials/testimonials.controller.js|18|11|v|javascriptreact
	coupon
aa3bfd7503a2b8b3c6184f44eb1ab519|file:///home/andres/workspace/futurymall-api/src/controllers/site/testimonials/testimonials.controller.js|15|1|v|javascriptreact
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	
	  try {
	    const testimonials = await testimonialService.findAllTestimonials();
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = testimonials.length;
	    response.objetos = testimonials;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.httpStatus ? error.httpStatus : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
58ace17ff8196e65b7c767a0bccd746a|file:///home/andres/workspace/futurymall-api/src/controllers/site/testimonials/testimonials.controller.js|36|1|v|javascriptreact
	// POST Create new testimonial
	
	router.post((req, res) => {
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	
	  try {
	    const testimonials = await testimonialService.findAllTestimonials();
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = testimonials.length;
	    response.objetos = testimonials;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.httpStatus ? error.httpStatus : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
	})
429791b2fb51805e2d4a64ebcf5e67a4|file:///home/andres/workspace/futurymall-api/src/controllers/site/testimonials/testimonials.controller.js|14|1|v|javascriptreact
	router.get('/all', async (req, res) => {
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	
	  try {
	    const testimonials = await testimonialService.findAllTestimonials();
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = testimonials.length;
	    response.objetos = testimonials;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.httpStatus ? error.httpStatus : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
	});
cac6f1cd783069952b46ae4f2090d574|file:///home/andres/workspace/futurymall-api/src/controllers/superadmin/index.js|18|1|V|javascriptreact
	router.use('/partners', require('./partner/partner.controller'));
7896f8fa69398c56d86a65357615c41f|file:///home/andres/workspace/futurymall-api/src/controllers/superadmin/index.js|19|14|v|javascriptreact
	partners
482a88dd62cc15b6c09793a3e87a2bd4|file:///home/andres/workspace/futurymall-api/src/controllers/superadmin/index.js|19|57|v|javascriptreact
	ontroller
179a9df35eb013ece9d1345300db894c|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|1|1|v|javascriptreact
	const express = require('express');
	const router = express.Router();
	
	const myGenericResponse = require('../../../utils/myGenericsResponse');
	const cleanObject = require('../../../utils/cleanObject');
	
	const couponService = require('../../../services/coupons/coupon.service');
	
	const STATUS_OK = 'ok';
	const STATUS_ERROR = 'error';
	
	
e78c9bf56e4616f97a17eaefa97b260a|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|14|1|v|javascriptreact
	router.post('/', async (req, res) => {
	  const { body } = req;
	
	  if (body) {
	    const response = JSON.parse(JSON.stringify(myGenericResponse));
	    try {
	      const coupon = await couponService.createCoupon(body);
	
	      response.status = STATUS_OK;
	      response.msg_id = Date.now();
	      response.code = 200;
	      response.number_records = 1;
	      response.objeto = coupon;
	      cleanObject.clean(response);
	      res.status(response.code).json(response);
	    } catch (error) {
	      response.status = STATUS_ERROR;
	      response.code = error.httpStatus ? error.httpStatus : 500;
	      response.message = error.message;
	      response.msg_id = Date.now();
	      cleanObject.clean(response);
	      res.status(response.code).json(response);
	    }
	  } else {
	    res.status(400).send({ message: 'Cuerpo de la petición faltante' });
	  }
	});
	
5db4db39dc8c9b0905e78a267596a1d3|file:///home/andres/workspace/futurymall-api/src/controllers/superadmin/testimonials/testimonials.controller.js|7|14|V|javascriptreact
	const couponService = require('../../../services/coupons/coupon.service');
9663bc362a307227b819c934a461ee18|file:///home/andres/workspace/futurymall-api/src/controllers/site/testimonials/testimonials.controller.js|7|1|V|javascriptreact
	const testimonialService = require('../../../services/testimonials/testimonials.service');
33a6b63505b8d54a644504434b3c59c8|file:///home/andres/workspace/futurymall-api/src/controllers/superadmin/testimonials/testimonials.controller.js|20|52|v|javascriptreact
	createCoupon
808ecd90a3303cdd4a6669796c5fb4ff|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|42|1|v|javascriptreact
	// GET coupons list
	
	router.get('/all/:idStore', async (req, res) => {
	  const { idStore } = req.params;
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	
	  try {
	    const coupons = await couponService.findAllCoupons(idStore);
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = coupons.length;
	    response.objetos = coupons;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.httpStatus ? error.httpStatus : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
	});
23a3228290559ab4d4137b6c4fbca30d|file:///home/andres/workspace/futurymall-api/src/controllers/superadmin/testimonials/testimonials.controller.js|49|27|v|javascriptreact
	coupownService
84ad10f3366d637b48353ba4b0a592a9|file:///home/andres/workspace/futurymall-api/src/controllers/superadmin/testimonials/testimonials.controller.js|45|20|V|javascriptreact
	  const { idStore } = req.params;
aff526df853355137f66b7d90ab4b6ef|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|69|1|v|javascriptreact
	router.get('/:id', async (req, res) => {
	  const {
	    params: { id },
	  } = req;
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	
	  try {
	    const coupon = await couponService.findCouponById(id);
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = 1;
	    response.objetos = coupon;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.httpStatus ? error.httpStatus : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
	});
29a22702196f7ee988a7791f0b21a6b7|file:///home/andres/workspace/futurymall-api/src/controllers/superadmin/testimonials/testimonials.controller.js|75|45|v|javascriptreact
	findCouponById
6056e3004bd6772432c2c2927e979ccc|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|127|1|v|javascriptreact
	router.put('/:id', async (req, res) => {
	  const {
	    params: { id },
	    body,
	  } = req;
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	
	  try {
	    const coupon = await couponService.updateCoupon(id, body);
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = 1;
	    response.objetos = coupon;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.httpStatus ? error.httpStatus : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
	});
	
ed9888642dac35ae69c286c4291966d2|file:///home/andres/workspace/futurymall-api/src/controllers/superadmin/testimonials/testimonials.controller.js|104|45|v|javascriptreact
	updateCoupon
c1a2420ce169c0deabca719a7e06ca66|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|155|1|v|javascriptreact
	router.delete('/:id', async (req, res) => {
	  const {
	    params: { id },
	  } = req;
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	
	  try {
	    const coupon = await couponService.deleteCoupon(id);
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = 1;
	    response.objetos = coupon;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.httpStatus ? error.httpStatus : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
	});
	
	
c92a9d35d0b1c0967d9047cbb28f8570|file:///home/andres/workspace/futurymall-api/src/configs/app.js|17|14|V|javascriptreact
	app.use(routes);
9c514e654794791493a9df6b627edc1b|file:///home/andres/workspace/futurymall-api/src/controllers/site/index.js|36|14|v|javascriptreact
	testimonials
a5d491060952aa8ad5fdee071be752de|file:///home/andres/workspace/futurymall-api/src/controllers/site/index.js|36|14|v|javascriptreact
	comments
4922909f8ea24f1057914c9e1f8f0eff|file:///home/andres/workspace/detector-python/src/helpers/faceDetectCam.py|6|1|v|python
	cascade
9a46e399552a886aeb90a6c46609c5ab|file:///home/andres/workspace/detector-python/src/helpers/faceDetectCam.py|9|1|v|python
	def faceDetectCam():
	    cap = cv.VideoCapture(0)
	
	    if not cap.isOpened():
	        print("Cannot open camera")
	        return
	
	    while cap.isOpened():
	        ret, frame = cap.read()
	
	        if not ret:
	            print("Can't reecieve frame. Exiting...")
	            return
	
	        cv.imshow("My frame", frame)
	
	        if cv.waitKey(1) == ord("q"):
	            print("Bye!")
	            return
	
	    cap.release()
	    cv.destroyAllWindows()
	    return
be787b2a539ac20090a5bce756d25fa2|file:///home/andres/workspace/detector-python/src/helpers/detectAndDisplay.py|7|1|v|python
	def detectAndDisplay(frame):
	    cap = cv.isOpened()
	    return
0dd4ffb4eda933cd9455d5b4f4f1b475|file:///home/andres/workspace/detector-python/src/helpers/detectAndDisplay.py|7|5|v|python
	faciwtectCam
a63f4ab0f667ffe441c5ebcd2f49cdb2|file:///home/andres/workspace/futurymall-stores-panel/pages/index.vue|1|1|v|vue
	<template>
	  <section class="w-full h-screen bg-white overflow-hidden relative">
	    <img
	      src="/images/circle_futury_2.svg"
	      class="absolute"
	      style="top: 0; left: 0"
	    />
	    <img
	      src="/images/circle_futury_1.svg"
	      class="absolute hidden md:block"
	      style="top: 0; right: 0; height: 100%"
	    />
	    <img
	      src="/images/SHINY 1.svg"
	      class="absolute hidden md:block"
	      style="bottom: 0; right: 0; height: 100%"
	    />
	    <div class="w-full h-full bg-login relative">
	      <div class="mx-auto w-full h-full flex flex-col justify-between py-16">
	        <div class="mx-5 sm:mx-10 md:ml-32">
	          <img
	            src="/logo.png"
	            style="max-width: 220px; top: 55px; left: 115px"
	            alt="futury"
	          />
	        </div>
	
	        <div
	          class="flex justify-center md:justify-start items-center mx-5 sm:mx-10 md:ml-32"
	        >
	          <form
	            class="block w-full p-5 sm:p-10 bg-white z-20 shadow-xl"
	            style="border-radius: 1.5rem; max-width: 450px"
	          >
	            <h1 class="text-primary font-bold sm:text-xl text-lg mb-12">
	              Accede a tu tienda en línea
	            </h1>
	            <div class="flex mb-4">
	              <el-input
	                v-model="auth.userName"
	                class="input-login"
	                type="text"
	                name=""
	                value=""
	                placeholder="Correo"
	              />
	            </div>
	            <div class="flex mb-4">
	              <el-input
	                v-model="auth.password"
	                class="input-login"
	                type="password"
	                minlength="6"
	                name=""
	                value=""
	                placeholder="Contraseña"
	                @keyup.enter.native="login()"
	              />
	            </div>
	            <div class="w-full flex flex-col justify-center items-center mb-2">
	              <el-button
	                @click="login"
	                class="block w-full login-button"
	                style="margin: 0 0 10px 0"
	              >
	                Inicia sesión
	              </el-button>
	            </div>
	            <div class="mb-6">
	              <span class="text-gray-800 font-normal" style="font-size: 14px"
	                >¿Olvidaste tu contraseña? Haz clic
	                <nuxt-link to="/olvide-contrasenia" class="underline"
	                  >aquí</nuxt-link
	                >
	              </span>
	            </div>
	            <div class="bg-gray-400 w-full mb-6" style="height: 1px"></div>
	            <div class="">
	              <p class="font-bold" style="font-size: 14px">
	                ¿Eres nuevo?
	                <span>
	                  <a
	                    href="https://futurymall.com/registro"
	                    target="_blank"
	                    class="text-primary hover:underline"
	                    >Registra tu negocio</a
	                  ></span
	                >
	              </p>
	            </div>
	          </form>
	        </div>
	        <div class="mx-5 sm:mx-10 md:ml-32" style="max-width: 450px">
	          <p style="font-size: 14px">
	            Cuando creas tu cuenta en nuestra plataforma aceptas nuestras
	            <nuxt-link to="/" class="font-semibold underline"
	              >póliticas de privacidad</nuxt-link
	            >
	            y
	            <nuxt-link to="/" class="font-semibold underline"
	              >términos y condiciones</nuxt-link
	            >
	          </p>
	        </div>
	      </div>
	    </div>
	  </section>
	</template>
	
	<script>
	export default {
	  middleware: "auth",
	  layout: "auth",
	  data() {
	    const validatorEmailOnly = (rule, value, callback) => {
	      if (this.value === "") {
	        callback(new Error("Campo requerido"));
	      } else {
	        if (!this.validateEmail(value)) {
	          callback(new Error("Ingrese un correo válido"));
	        } else {
	          callback();
	        }
	      }
	    };
	    return {
	      recover_dialog: false,
	      recover_success: false,
	      recover: {
	        userName: "",
	      },
	      auth: {
	        userName: "",
	        password: "",
	      },
	      url: process.env.API_URL,
	      valid: true,
	      dialog: false,
	      incorrect: false,
	      noClose: false,
	      formRules: {
	        userName: [
	          { required: true, message: "Campo requerido", trigger: "blur" },
	          { validator: validatorEmailOnly, trigger: "blur" },
	        ],
	      },
	    };
	  },
	  methods: {
	    notify() {
	      this.$notify({
	        title: "Aviso",
	        message: "Por favor, comunicarse con Prodequa",
	        type: "warning",
	      });
	    },
	    validateEmail(email) {
	      let re =
	        /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
	      return re.test(email);
	    },
	    handleClose() {
	      this.recover_dialog = false;
	      this.recover_success = false;
	      this.recover.userName = "";
	    },
	    send() {
	      this.$refs["recoverForm"].validate(async (valid) => {
	        if (valid) {
	          this.loading = this.$loading({
	            lock: true,
	            text: "Procesando",
	            spinner: "el-icon-loading",
	            background: "rgba(0, 0, 0, 0.8)",
	          });
	          let resp;
	          let request_config = {
	            type: "GET",
	            origin: this.$route.path,
	            logs: true,
	            label: "request to recover password",
	            error: {
	              show: true,
	              container: "notify",
	              message:
	                "Algo salió mal. Asegúrese de ingresar un correo asociado a una cuenta futury.",
	              data: null,
	            },
	            success: {
	              show: false,
	              container: "message",
	              message: "Solicitud procesada con éxito",
	              data: [],
	            },
	            url: "/site/users/recoverPassword",
	            body: {},
	            params: {
	              email: this.recover.userName,
	            },
	          };
	
	          resp = await this.$fetchTo(request_config);
	          this.loading.close();
	
	          if (resp !== null) this.recover_success = true;
	        }
	      });
	    },
	    register() {
	      window.open("https://futurymall.com/registro");
	    },
	    async login() {
	      if ((this.auth.userName !== "") & (this.auth.password !== "")) {
	        if (this.auth.password.length < 6) {
	          const h = this.$createElement;
	          this.$notify.error({
	            title: "Error",
	            message: "La contraseña no puede ser menor a 6 caracteres",
	          });
	        } else {
	          await this.$auth
	            .loginWith("local", { data: this.auth })
	            .then(() => {
	              const loading = this.$loading({
	                lock: true,
	                text: "Loading",
	                spinner: "el-icon-loading",
	                background: "rgba(0, 0, 0, 0.7)",
	              });
	              // this.$store.commit('SET_EMPLOYEE', this.$auth.user)
	              // console.log('user', this.$auth.user)
	              this.$router.push("/dashboard");
	              loading.close();
	            })
	            .catch((e) => {
	              console.error(e);
	              this.$notify.error({
	                title: "Error",
	                message: "Usuario y/o contraseña incorrecta",
	              });
	            });
	        }
	      } else {
	        this.$notify.error({
	          title: "Error",
	          message: "Usuario y/o contraseña incompleto(s)",
	        });
	      }
	    },
	  },
	};
	</script>
	
	<style lang="scss">
	.formulario-login {
	  width: auto;
	  min-width: 490px;
	  z-index: 2;
	  @media (max-width: 400px) {
	    width: 100%;
	    min-width: 200px;
	  }
	}
	.bg-login,
	.bg-login-inside {
	  display: flex;
	  align-items: center;
	  text-align: center;
	}
	.bg-login-inside {
	  width: 100%;
	  max-width: 1000px;
	}
	@media (min-width: 960px) {
	  .bg-login-inside {
	    // justify-content: center;
	  }
	}
	@media (min-width: 1400px) {
	  .bg-login-inside {
	    max-width: 1200px;
	  }
	}
	.input-login {
	  /* box-shadow: 0px 4px 5px -4px rgba(0, 0, 0, 0.5) !important; */
	}
	.input-login > input {
	  background-color: #fff;
	  border: solid 1px #8c8c8c !important;
	  border-radius: 20px !important;
	
	  &:hover,
	  &:focus {
	    border: solid 1px black !important;
	  }
	}
	.input-login > input::placeholder {
	  color: #808080 !important;
	}
	
	.el-button.login-button {
	  color: white;
	  background-color: var(--primaryColor) !important;
	  display: block !important;
	  border: 0;
	  font-weight: bold;
	  box-shadow: 0px 4px 5px -4px rgba(0, 0, 0, 0.5) !important;
	  border-radius: 10px;
	}
	.el-button.login-button:hover {
	  background-color: #4783f1 !important;
	}
	.login-button2:active,
	.login-button2:focus,
	.login-button2.active,
	.login-button:active,
	.login-button:focus,
	.login-button.active {
	  background-image: none;
	  outline: 0;
	  -webkit-box-shadow: none;
	  box-shadow: none;
	}
	.login-panel {
	  background: white;
	  border-radius: 20px;
	  box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.15);
	  @media screen and (max-width: 640px) {
	    max-width: 300px;
	    border-radius: 10px;
	  }
	}
	.recovery {
	  & > div > .el-form-item {
	    & > label {
	      color: black;
	      font-weight: 600;
	    }
	    & > .el-form-item__content {
	      & > .el-form-item__error {
	        font-weight: 500;
	      }
	    }
	  }
	}
	</style>
1881d3e6c5353b5e0e6a0afbe546b1c8|file:///home/andres/workspace/futurymall-stores-panel/pages/olvide-contrasenia.vue|1|1|v|vue
	<template>
	  <section class="w-full h-screen bg-white overflow-hidden relative">
	    <img
	      src="/images/circle_futury_2.svg"
	      class="absolute"
	      style="top: 0; left: 0"
	    />
	    <img
	      src="/images/circle_futury_1.svg"
	      class="absolute hidden md:block"
	      style="top: 0; right: 0; height: 100%"
	    />
	    <img
	      src="/images/SHINY 1.svg"
	      class="absolute hidden md:block"
	      style="bottom: 0; right: 0; height: 100%"
	    />
	    <div class="w-full h-full bg-login relative">
	      <div class="mx-auto w-full h-full flex flex-col justify-between py-16">
	        <div class="mx-5 sm:mx-10 md:ml-32">
	          <img
	            src="/logo.png"
	            style="max-width: 220px; top: 55px; left: 115px"
	            alt="futury"
	          />
	        </div>
	
	        <div
	          class="flex justify-center md:justify-start items-center mx-auto sm:mx-10 md:ml-32"
	        >
	          <el-form
	            class="block w-full p-5 sm:p-10 bg-white z-20 shadow-xl"
	            style="border-radius: 1.5rem; max-width: 450px"
	            ref="recoverForm"
	            :model="recover"
	            :rules="formRules"
	          >
	            <div class="mb-4">
	              <h1 class="text-primary font-bold sm:text-xl text-lg">
	                ¿Olvidaste tu contraseña?
	              </h1>
	              <p class="text-gray-800" style="font-size: 14px">
	                Si tienes una cuenta en Futury, te enviaremos un mensaje con un
	                enlace para cambiar tu contraseña.
	              </p>
	            </div>
	
	            <el-form-item
	              class="flex flex-col mb-4 gap-2"
	              label=""
	              prop="userName"
	            >
	              <el-input
	                v-model="recover.userName"
	                class="input-recovery"
	                type="text"
	                required
	                placeholder="Correo"
	                @keyup.enter.native="
	                  (event) => {
	                    event.preventDefault();
	                    send();
	                  }
	                "
	              />
	            </el-form-item>
	            <div class="w-full flex flex-col justify-center items-center mb-6">
	              <el-button @click="send()" class="block w-full login-button">
	                Enviar
	              </el-button>
	            </div>
	            <div class="bg-gray-400 w-full mb-6" style="height: 1px"></div>
	            <div class="">
	              <p class="font-bold" style="font-size: 14px">
	                Quiero volver al
	                <span>
	                  <nuxt-link to="/" class="text-primary hover:underline"
	                    >Inicio de sesión</nuxt-link
	                  ></span
	                >
	              </p>
	            </div>
	          </el-form>
	        </div>
	        <div class="mx-5 sm:mx-10 md:ml-32" style="max-width: 450px">
	          <p style="font-size: 14px">
	            Cuando creas tu cuenta en nuestra plataforma aceptas nuestras
	            <nuxt-link to="/" class="font-semibold underline"
	              >póliticas de privacidad</nuxt-link
	            >
	            y
	            <nuxt-link to="/" class="font-semibold underline"
	              >términos y condiciones</nuxt-link
	            >
	          </p>
	        </div>
	      </div>
	    </div>
	
	    <el-dialog
	      :visible.sync="recover_dialog"
	      width="10%"
	      center
	      :show-close="false"
	    >
	      <div class="text-center">
	        <h1 class="text-primary text-2xl font-bold text-center">
	          ¡Solicitud exitosa!
	        </h1>
	        <p class="mx-auto" style="max-width: 600px">
	          Si tu correo es correcto, recibirás un mensaje con el enlace de
	          recuperación.
	        </p>
	        <p class="font-bold">Válido por 1 hora</p>
	      </div>
	      <div class="text-center mt-5">
	        <el-button @click="handleCloseModal">Aceptar</el-button>
	      </div>
	    </el-dialog>
	  </section>
	</template>
	
	<script>
	export default {
	  layout: "auth",
	  data() {
	    const validatorEmailOnly = (rule, value, callback) => {
	      if (this.value === "") {
	        callback(new Error("Campo requerido"));
	      } else {
	        if (!this.validateEmail(value)) {
	          callback(new Error("Ingrese un correo válido"));
	        } else {
	          callback();
	        }
	      }
	    };
	    return {
	      recover_dialog: false,
	      recover_success: false,
	      recover: {
	        userName: "",
	      },
	      url: process.env.API_URL,
	      valid: true,
	      dialog: false,
	      incorrect: false,
	      noClose: false,
	      formRules: {
	        userName: [
	          { required: true, message: "Campo requerido", trigger: "blur" },
	          { validator: validatorEmailOnly, trigger: "blur" },
	        ],
	      },
	    };
	  },
	  methods: {
	    validateEmail(email) {
	      let re =
	        /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
	      return re.test(email);
	    },
	    handleCloseModal() {
	      this.recover_success = false;
	      this.recover_dialog = false;
	    },
	    send() {
	      this.$refs["recoverForm"].validate(async (valid) => {
	        if (valid) {
	          this.loading = this.$loading({
	            lock: true,
	            text: "Procesando",
	            spinner: "el-icon-loading",
	            background: "rgba(0, 0, 0, 0.8)",
	          });
	          let resp;
	          let request_config = {
	            type: "GET",
	            origin: this.$route.path,
	            logs: true,
	            label: "request to recover password",
	            error: {
	              show: true,
	              container: "notify",
	              message:
	                "Algo salió mal. Asegúrese de ingresar un correo asociado a una cuenta futury.",
	              data: null,
	            },
	            success: {
	              show: false,
	              container: "message",
	              message: "Solicitud procesada con éxito",
	              data: [],
	            },
	            url: "/site/users/recoverPassword",
	            body: {},
	            params: {
	              email: this.recover.userName,
	            },
	          };
	          resp = await this.$fetchTo(request_config);
	          this.loading.close();
	
	          if (resp.status === "ok") {
	            this.recover_success = true;
	            this.recover_dialog = true;
	          }
	        }
	      });
	    },
	  },
	};
	</script>
	
	<style lang="scss">
	.custom-recovery {
	  background: white;
	  border-radius: 20px;
	  box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.15);
	}
	.input-recovery-disabled > input {
	  background-color: #fff;
	  border: solid 1px #ececec !important;
	  border-radius: 20px !important;
	}
	.input-recovery > input {
	  background-color: #fff;
	  border: solid 1px #ececec !important;
	  border-radius: 20px !important;
	
	  &:hover,
	  &:focus {
	    border: solid 1px #2c71f0 !important;
	  }
	}
	.recovery {
	  & > .el-form-item {
	    & > label {
	      color: black;
	      font-weight: 600;
	    }
	    & > .el-form-item__content {
	      & > .el-form-item__error {
	        font-weight: 500;
	      }
	    }
	  }
	}
	</style
acc7762667371f1925516499a216bfe7|file:///home/andres/workspace/futurymall-stores-panel/pages/recuperar-contrasenia.vue|1|1|v|vue
	<template>
	  <section class="w-full h-screen bg-white overflow-hidden relative">
	    <img
	      src="/images/circle_futury_2.svg"
	      class="absolute"
	      style="top: 0; left: 0"
	    />
	    <img
	      src="/images/circle_futury_1.svg"
	      class="absolute hidden md:block"
	      style="top: 0; right: 0; height: 100%"
	    />
	    <div class="w-full h-full bg-login relative">
	      <div class="mx-auto w-full h-full flex flex-col justify-between py-16">
	        <div class="mx-5 sm:mx-10 md:ml-32">
	          <img
	            src="/logo.png"
	            style="max-width: 220px; top: 55px; left: 115px"
	            alt="futury"
	          />
	        </div>
	
	        <div class="flex justify-center items-center mx-auto sm:mx-10 md:ml-32">
	          <el-form
	            ref="recoverForm"
	            class="block w-full p-5 sm:p-10 bg-white z-20 shadow-xl"
	            style="border-radius: 1.5rem; max-width: 450px"
	            :model="recover"
	            :rules="formRules"
	          >
	            <h1 class="text-primary font-bold sm:text-xl text-lg mb-6 text-center">
	              Recuperar cuenta
	            </h1>
	            <el-form-item
	              class="w-full mb-6 relative"
	              label="Ingrese su nueva contraseña"
	              prop="password"
	            >
	              <el-input
	                v-model="recover.password"
	                class="input-recovery"
	                type="password"
	                required
	              />
	            </el-form-item>
	            <el-form-item
	              class="w-full mb-6 relative"
	              label="Confirme su nueva contraseña"
	              prop="same_password"
	            >
	              <el-input
	                v-model="recover.same_password"
	                :class="
	                  recover.password === ''
	                    ? 'input-recovery-disabled'
	                    : 'input-recovery'
	                "
	                type="password"
	                :disabled="recover.password === '' ? true : false"
	                required
	              />
	            </el-form-item>
	            <div class="w-full flex justify-center items-center mt-3">
	              <el-button @click="send()" class="flex justify-center items-center">
	                Cambiar contraseña
	              </el-button>
	            </div>
	          </el-form>
	<!--           <form
	            class="block w-full p-5 sm:p-10 bg-white z-20 shadow-xl"
	            style="border-radius: 1.5rem; max-width: 450px"
	          >
	            <h1 class="text-primary font-bold sm:text-xl text-lg mb-12">
	              Recuperar cuenta
	            </h1>
	            <div class="flex flex-col mb-4 gap-2">
	              <label class="block w-full text-left" style="font-size: 14px"
	                ><span class="text-red-500">*</span> Ingrese su nueva
	                contraseña</label
	              >
	              <el-input
	                v-model="recover.password"
	                class="input-recovery"
	                type="password"
	                required
	              />
	            </div>
	            <div class="flex flex-col mb-4 gap-2">
	              <label class="block w-full text-left" style="font-size: 14px"
	                ><span class="text-red-500">*</span> Confirmar nueva
	                contraseña</label
	              >
	              <el-input
	                v-model="recover.same_password"
	                :class="
	                  recover.password === ''
	                    ? 'input-recovery-disabled'
	                    : 'input-recovery'
	                "
	                type="password"
	                :disabled="recover.password === '' ? true : false"
	                required
	              />
	            </div>
	            <div class="w-full flex flex-col justify-center items-center mb-2">
	              <el-button @click="send()" class="block w-full login-button">
	                Cambiar contraseña
	              </el-button>
	            </div>
	          </form> -->
	        </div>
	        <div class="mx-5 sm:mx-10 md:ml-32" style="max-width: 450px">
	          <p class="hidden" style="font-size: 14px">
	            Cuando creas tu cuenta en nuestra plataforma aceptas nuestras
	            <nuxt-link to="/" class="font-semibold underline"
	              >póliticas de privacidad</nuxt-link
	            >
	            y
	            <nuxt-link to="/" class="font-semibold underline"
	              >términos y condiciones</nuxt-link
	            >
	          </p>
	        </div>
	      </div>
	    </div>
	  </section>
	</template>
	
	<script>
	export default {
	  layout: "auth",
	  data() {
	    const validatorPassword = (rule, value, callback) => {
	      if (this.value === "") {
	        callback(new Error("Campo requerido"));
	      } else {
	        if (!this.validatorPassword(value)) {
	          callback(new Error("La contraseña debe tener mínimo 6 caracteres"));
	        } else {
	          callback();
	        }
	      }
	    };
	    const validatorSamePassword = (rule, value, callback) => {
	      if (this.value === "") {
	        callback(new Error("Campo requerido"));
	      } else {
	        if (!this.validatorSamePassword(value)) {
	          callback(new Error("Las contraseñas no coinciden"));
	        } else {
	          callback();
	        }
	      }
	    };
	    return {
	      recover: {
	        password: "",
	        same_password: "",
	      },
	      formRules: {
	        password: [
	          { required: true, message: "Campo requerido", trigger: "blur" },
	          { validator: validatorPassword, trigger: "blur" },
	        ],
	        same_password: [
	          { required: true, message: "Campo requerido", trigger: "blur" },
	          { validator: validatorSamePassword, trigger: "blur" },
	        ],
	      },
	    };
	  },
	  async mounted() {
	    await this.validateCode();
	  },
	  methods: {
	    validatorPassword(value) {
	      const pass = /^.{6,}$/i;
	      return value.match(pass);
	    },
	    validatorSamePassword(value) {
	      if (value === this.recover.password) return true;
	      else return false;
	    },
	    async validateCode() {
	      this.loading = this.$loading({
	        lock: true,
	        text: "Validando ruta",
	        spinner: "el-icon-loading",
	        background: "rgba(0, 0, 0, 0.8)",
	      });
	      let resp;
	      let request_config = {
	        type: "GET",
	        origin: this.$route.path,
	        logs: true,
	        label: "recover password",
	        error: {
	          show: false,
	          container: "notify",
	          message:
	            "Lo sentimos. Ocurrió un error al procesar la solicitud. Intente nuevamente.",
	          data: null,
	        },
	        success: {
	          show: false,
	          container: "message",
	          message: "Solicitud procesada con éxito",
	          data: [],
	        },
	        url: "/site/users/validationCode",
	        body: {},
	        params: {
	          userName: this.$route.query.userName,
	          recoverCode: this.$route.query.token,
	        },
	      };
	
	      resp = await this.$fetchTo(request_config);
	      this.loading.close();
	
	      if (resp === null) {
	        this.$router.push("/");
	      }
	    },
	    send() {
	      this.$refs["recoverForm"].validate(async (valid) => {
	        if (valid) {
	          this.loading = this.$loading({
	            lock: true,
	            text: "Procesando",
	            spinner: "el-icon-loading",
	            background: "rgba(0, 0, 0, 0.8)",
	          });
	          let resp;
	          let request_config = {
	            type: "PUT",
	            origin: this.$route.path,
	            logs: true,
	            label: "recover password",
	            error: {
	              show: true,
	              container: "notify",
	              message:
	                "Lo sentimos. Ocurrió un error al procesar la solicitud. Intente nuevamente.",
	              data: null,
	            },
	            success: {
	              show: true,
	              container: "message",
	              message: "¡La contraseña fue cambiada con éxito!",
	              data: [],
	            },
	            url: "/site/users/changePassword",
	            body: {
	              userName: this.$route.query.userName,
	              recoverCode: this.$route.query.token,
	              password: this.recover.password,
	            },
	            params: {},
	          };
	
	          resp = await this.$fetchTo(request_config);
	          this.loading.close();
	
	          this.$router.push("/");
	        }
	      });
	    },
	  },
	};
	</script>
	
	<style lang="scss">
	.custom-recovery {
	  background: white;
	  border-radius: 20px;
	  box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.15);
	}
	.input-recovery-disabled > input {
	  background-color: #fff;
	  border: solid 1px #ececec !important;
	  border-radius: 20px !important;
	}
	.input-recovery > input {
	  background-color: #fff;
	  border: solid 1px #ececec !important;
	  border-radius: 20px !important;
	
	  &:hover,
	  &:focus {
	    border: solid 1px #2c71f0 !important;
	  }
	}
	.recovery {
	  & > .el-form-item {
	    & > label {
	      color: black;
	      font-weight: 600;
	    }
	    & > .el-form-item__content {
	      & > .el-form-item__error {
	        font-weight: 500;
	      }
	    }
	  }
	}
	</style>
d00023869f32aacfffb21e086712f4cd|file:///home/andres/workspace/aplicacion-yolo/.gitignore|4|1|v|gitignore
	output_video
09e66aa33a3ef95fe55d8fc9ec8ea395|file:///home/andres/workspace/futurymall-dynamic-store/middleware/getStore.js|10|56|v|javascriptreact
	mangamics
64a733d4bc09c5139cfb1997c337aefd|file:///home/andres/workspace/futurymall-dynamic-store/env_config/dev.config.properties|8|1|V|jproperties
	API_URL=https://api.futurymall.com
0aa33aa0c775b594af464c684f7b4021|file:///home/andres/workspace/futurymall-api/src/models/workers/workers.schema.js|4|7|v|javascriptreact
	collaboratorsSchema
234a406049caf2efd229b06ba04d2bcd|file:///home/andres/workspace/futurymall-api/src/models/workers/workers.schema.js|58|25|v|javascriptreact
	Collaborators
b2c97ae425dd751b0e48a3acae79cf4a|file:///home/andres/workspace/futurymall-api/src/repositories/worker/worker.repository.js|7|20|v|javascriptreact
	filter
17d8c14b57356c91de7000bb90615834|file:///home/andres/workspace/futurymall-api/src/repositories/worker/worker.repository.js|36|1|v|javascriptreact
	
	async function findWorkerById(id) {
	  try {
	    return await workersModel.findById(id);
	  } catch (error) {
	    return error.message;
	  }
	}
e53b806b2181801f87bec11f91ca13bb|file:///home/andres/workspace/futurymall-api/src/repositories/worker/worker.repository.js|38|1|v|javascriptreact
	  try {
	    return await workersModel.findById(id);
	  } catch (error) {
	    return error.message;
	  }
f2595d978dbd3674d1f6c48ecfdfc5f2|file:///home/andres/workspace/futurymall-api/src/repositories/worker/worker.repository.js|55|31|v|javascriptreact
	findById
d6e8570e24efaf001d59e25ec2b26ae6|file:///home/andres/workspace/futurymall-api/src/repositories/worker/worker.repository.js|32|19|V|javascriptreact
	    /* handle error */
c6ac564f8704b999fb7b844bbf87ee7f|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|2|31|v|javascriptreact
	../../services/stores/store.service
7b34af86b06ceed1b138b04f8775149a|file:///home/andres/workspace/futurymall-api/src/services/coupons/coupon.service.js|1|1|v|javascriptreact
	const createCoupon = async (coupon) => {
	  const storeExists = await storeService.getStoreById(coupon.idStore);
	
	  if (!storeExists) {
	    return {
	      status_code: 400,
	      message: 'La tienda no existe.',
	      error_message: 'Store does not exist',
	    };
	  }
	
	  const couponExists = await couponRepository.findCouponByParams(coupon);
	
	  if (couponExists) {
	    return {
	      status_code: 400,
	      message: 'El cupón ya ha sido creado.',
	      error_message: 'Coupon code is not valid',
	    };
	  }
	
	  const { start_date, expiration_date } = coupon;
	
	  if (Number(start_date) >= Number(expiration_date)) {
	    return {
	      status_code: 400,
	      message: 'La fecha de expiración del cupón es inválida.',
	      error_message: 'Invalid coupon expiration date',
	    };
	  }
	
	  const newCoupon = await couponRepository.createCoupon(coupon);
	
	  return newCoupon;
	};
	
	const findAllCoupons = async (idStore) => {
	  const storeExists = await storeService.getStoreById(idStore);
	
	  if (!storeExists) {
	    return {
	      status_code: 400,
	      message: 'La tienda no existe.',
	      error_message: 'Store does not exist',
	    };
	  }
	
	  const couponsArr = await couponRepository.findAllCoupons({ idStore });
	
	  return couponsArr;
	};
	
	const findCouponById = async (id) => {
	  const coupon = await couponRepository.findCouponById(id);
	
	  return coupon;
	};
	
	const findCouponByCode = async (idStore, code) => {
	  const storeExists = await storeService.getStoreById(idStore);
	
	  if (!storeExists) {
	    return {
	      status_code: 400,
	      message: 'La tienda no existe.',
	      error_message: 'Store does not exist',
	    };
	  }
	
	  const coupon = await couponRepository.findCouponByParams({ code, idStore });
	  if (!coupon || Number(Date.now()) < Number(coupon.start_date)) {
	    return {
	      status_code: 400,
	      message: 'Cupón no válido.',
	      error_message: 'Invalid coupon',
	    };
	  }
	
	  if (Number(Date.now()) > Number(coupon.expiration_date)) {
	    return {
	      status_code: 400,
	      message: 'El cupón ha expirado',
	      error_message: 'Invalid coupon',
	    };
	  }
	
	  return { ...coupon._doc, status_code: 200 };
	};
	
	const findCouponsPaginated = async ({ sort, page, itemsPerPage, params }) => {
	  const storeExists = await storeService.getStoreById(params.idStore);
	
	  if (!storeExists) {
	    return {
	      status_code: 400,
	      message: 'La tienda no existe.',
	      error_message: 'Store does not exist',
	    };
	  }
	
	  const paramsFilter = { idStore: params.idStore };
	
	  const couponsArr = await couponRepository.queryCoupons(
	    paramsFilter,
	    page,
	    itemsPerPage,
	    sort,
	  );
	
	  return couponsArr;
	};
	
	const updateCoupon = async (id, params) => {
	  const couponExists = await couponRepository.findCouponById(id);
	
	  if (!couponExists) {
	    return {
	      status_code: 404,
	      message: 'El cupón no existe.',
	      error_message: 'Partner does not exist',
	    };
	  }
	
	  if (Number(params.start_date) >= Number(params.expiration_date)) {
	    return {
	      status_code: 400,
	      message: 'La fecha de expiración del cupón es inválida.',
	      error_message: 'Invalid coupon expiration date',
	    };
	  }
	
	  const couponUpdated = await couponRepository.updateCoupon(id, {
	    idStore: couponExists.idStore,
	    ...params,
	  });
	
	  return couponUpdated;
	};
	
	const deleteCoupon = async (id) => {
	  const couponExists = await couponRepository.findCouponById(id);
	
	  if (!couponExists) {
	    return {
	      status_code: 404,
	      message: 'El cupón no existe.',
	      error_message: 'Partner does not exist',
	    };
	  }
	
	  return await couponRepository.deleteCoupon(id);
	};
	
	module.exports = {
	  createCoupon,
	  findAllCoupons,
	  findCouponById,
	  findCouponByCode,
	  findCouponsPaginated,
	  updateCoupon,
	  deleteCoupon,
	};
c90177df1a29b29c034e2846763dc32b|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|4|17|V|javascriptreact
	const createWorker = async (worker) => {};
49a18686deab1bf6cd8cb34abdce069a|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|16|30|v|javascriptreact
	couponRepository
b657b835150919551e7106d5ca78c0ad|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|16|47|v|javascriptreact
	findCouponByParams
f81bc8fd054bf2e58d7858f4b90879ad|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|35|9|v|javascriptreact
	newCoupon
7604e03056b26e12572581a158437f27|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|35|36|v|javascriptreact
	ository
260fc301d74dd138cfd1a9e182ad536d|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|35|27|v|javascriptreact
	couponRep
18bc1e2684b9112196b069a539c173e3|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|25|1|v|javascriptreact
	  const { start_date, expiration_date } = coupon;
	
	  if (Number(start_date) >= Number(expiration_date)) {
	    return {
	      status_code: 400,
	      message: 'La fecha de expiración del cupón es inválida.',
	      error_message: 'Invalid coupon expiration date',
	    };
	  }
	
	
fadb1753dcaf0249737d85b581cf679a|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|41|9|v|javascriptreact
	couponsArr
409ac187b106b0d21dd4402c29f92865|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|41|28|v|javascriptreact
	workerModel
e177cb79804d28d8a73bf27442928b6d|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|151|16|V|javascriptreact
	  findCouponByCode,
f522ca36aac006b8e1b49a53ebde5461|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|133|7|v|javascriptreact
	deleteCoupon
ede93f74dc1cc3967dd2e7401a589285|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|116|1|v|javascriptreact
	
	  if (Number(params.start_date) >= Number(params.expiration_date)) {
	    return {
	      status_code: 400,
	      message: 'La fecha de expiración del cupón es inválida.',
	      error_message: 'Invalid coupon expiration date',
	    };
	  }
64895291255478a790aa7105fc304e50|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|96|45|v|javascriptreact
	queryCoupons
ba33a98e8a67b7fe1f61765eadd12233|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|52|1|v|javascriptreact
	const findCouponByCode = async (idStore, code) => {
	  const storeExists = await storeService.getStoreById(idStore);
	
	  if (!storeExists) {
	    return {
	      status_code: 400,
	      message: 'La tienda no existe.',
	      error_message: 'Store does not exist',
	    };
	  }
	
	  const coupon = await couponRepository.findCouponByParams({ code, idStore });
	  if (!coupon || Number(Date.now()) < Number(coupon.start_date)) {
	    return {
	      status_code: 400,
	      message: 'Cupón no válido.',
	      error_message: 'Invalid coupon',
	    };
	  }
	
	  if (Number(Date.now()) > Number(coupon.expiration_date)) {
	    return {
	      status_code: 400,
	      message: 'El cupón ha expirado',
	      error_message: 'Invalid coupon',
	    };
	  }
	
	  return { ...coupon._doc, status_code: 200 };
	};
408c57dec099479145a5febfb4b5c0e1|file:///home/andres/workspace/futurymall-api/src/models/coupon/coupon.schema.js|9|3|v|javascriptreact
	  createdBy: {
	      types: Schema.Types.ObjectId,
	    },
	    modifiedBy: {
	      types: Schema.Types.ObjectId,
	    },
d58ac158898d16750b071324a8b1da5e|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|1|1|v|javascriptreact
	const express = require('express');
	const router = express.Router();
	
	const myGenericResponse = require('../../../utils/myGenericsResponse');
	const cleanObject = require('../../../utils/cleanObject');
	
	
0cdeb030c3f24bb05418b8e474bc0415|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|12|1|v|javascriptreact
	// CREATE NEW coupon
	
	router.post('/', async (req, res) => {
	  const { body } = req;
	
	  if (body) {
	    const response = JSON.parse(JSON.stringify(myGenericResponse));
	    try {
	      const coupon = await couponService.createCoupon(body);
	
	      response.status = STATUS_OK;
	      response.msg_id = Date.now();
	      response.code = 200;
	      response.number_records = 1;
	      response.objeto = coupon;
	      cleanObject.clean(response);
	      res.status(response.code).json(response);
	    } catch (error) {
	      response.status = STATUS_ERROR;
	      response.code = error.httpStatus ? error.httpStatus : 500;
	      response.message = error.message;
	      response.msg_id = Date.now();
	      cleanObject.clean(response);
	      res.status(response.code).json(response);
	    }
	  } else {
	    res.status(400).send({ message: 'Cuerpo de la petición faltante' });
	  }
	});
	
	
10ae9fc7d453b0dd525d0edf2ede7961|file:///home/andres/workspace/futurymall-api/src/controllers/admin/workers/workers.controller.js|42|16|v|javascriptreact
	list
fd244c513fc87f877b255ca101dfd670|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|20|20|v|javascriptreact
	cupón
adb6e651c47c732f9af50ae33748feaa|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|21|23|v|javascriptreact
	Coupon
967220a4491ff90a83088a368daa9218|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|15|1|v|javascriptreact
	  const couponExists = await workerRepository.findWorkerById(worker);
	
	  if (couponExists) {
	    return {
	      status_code: 400,
	      message: 'El colaborador ya ha sido creado.',
	      error_message: 'Worker code is not valid',
	    };
	  }
6f041af43be87a195bd3f075922f344a|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|72|23|v|javascriptreact
	Partner
184d95b5c108026233e96a25f54904d0|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|66|9|v|javascriptreact
	couponExists
f364a2e756e99e0e27c8da33bf446007|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|125|1|v|javascriptreact
	// UPDATE coupon
	
	router.put('/:id', async (req, res) => {
	  const {
	    params: { id },
	    body,
	  } = req;
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	
	  try {
	    const coupon = await couponService.updateCoupon(id, body);
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = 1;
	    response.objetos = coupon;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.httpStatus ? error.httpStatus : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
	});
	
b803ba3282ed5698ee7a052edc92259e|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|153|1|v|javascriptreact
	// DELETE coupon
	
	router.delete('/:id', async (req, res) => {
	  const {
	    params: { id },
	  } = req;
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	
	  try {
	    const coupon = await couponService.deleteCoupon(id);
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = 1;
	    response.objetos = coupon;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.httpStatus ? error.httpStatus : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
	});
	
311dc69f0ed8027b50a32df413db4701|file:///home/andres/workspace/futurymall-api/src/controllers/admin/coupons/coupons.controller.js|94|1|v|javascriptreact
	// POST: Get coupons paginated
	
	router.post('/all/:idStore', async (req, res) => {
	  const { idStore } = req.params;
	
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	
	  const couponsParams = {
	    params: { idStore, ...req.body.params },
	    ...req.body,
	  };
	
	  try {
	    const coupons = await couponService.findCouponsPaginated(couponsParams);
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = coupons.length;
	    response.objetos = coupons;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.httpStatus ? error.httpStatus : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
	});
	
0d3e67096ca2671aeac3de964fa4d1b9|file:///home/andres/workspace/futurymall-api/src/controllers/admin/workers/workers.controller.js|80|41|v|javascriptreact
	findCouponsPaginated
ed7e7d44ec09f5bc3f2b74ae337be28a|file:///home/andres/workspace/futurymall-api/src/models/orders/order.schema.js|12|22|V|javascriptreact
	  sku: { type: String, required: true },
0dc5d11d49677b48e9b6ff7d47fcf56e|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|65|1|v|javascriptreact
	  for (let ord of ordersRes) {
	    ord = JSON.parse(JSON.stringify(ord));
	    ord.details = await orderDetailService.findAllOrderDetailService(ord._id);
	    res.push(ord);
	  }
0612e87e40070d64f9c22c967339adf4|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|94|12|V|javascriptreact
	  console.log(res);
d38430431b0cacd7dc8f22a676f7e5bd|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|86|1|V|javascriptreact
	  console.log(ordersRes);
23dd1a2703c226556d64c7540199b01c|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|139|1|V|javascriptreact
	    order.status = await orderStatusService.findOrderStatusByIdService(
be9d01b9fcd214e216d065c87185104e|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|71|71|V|javascriptreact
	  order.status = await orderStatusService.findOrderStatusByIdService();
725f723e1aefe150d7016afb48f21f77|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|68|43|v|javascriptreact
	findOrderStatusByIdService
d2f07013a4ace601aa797fcd94078eaa|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|68|1|v|javascriptreact
	    ord.status = await orderStatusService.findOrderStatusById(ord._id);
	    console.log(ord.status);
810a405807e14bcef1d51ac1ed01a02e|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|91|43|v|javascriptreact
	findOrderStatusById
36e9e027b74f9277ead7250f95ef34c0|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|101|25|V|javascriptreact
	    console.log(ord.status);
3dce8fc504ca2ab2305df9eb26dc3a8d|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|96|5|v|javascriptreact
	delete ord.idOrderType;
	    delete ord.showInDashboard;
	    delete ord.source;
	    delete ord.flgActive;
	    delete ord.idStore;
0cf31b2c283ce3431794586df7b0996d|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|96|4|V|javascriptreact
	    
446cb64b4e1b27dc9f8cfde343b8ab18|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|97|6|V|javascriptreact
	    delete ord.idOrderType;
b068931cc450442b63f5b3d276ea4297|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|93|7|v|javascriptreact
	name
d77469d750547467680c432359ee2eb3|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|46|6|V|javascriptreact
	  params,
c13c567c7d93ccd849d0965aa6a485b7|file:///home/andres/workspace/futurymall-api/src/controllers/admin/workers/workers.controller.js|82|26|V|javascriptreact
	  console.log(couponsParams);
959fd7300dd026d6c04844dc454b7721|file:///home/andres/workspace/futurymall-api/src/controllers/admin/workers/workers.controller.js|72|17|V|javascriptreact
	  console.log(idStore);
25a3c2f307f9920d97ffc4d336ca657a|file:///home/andres/workspace/futurymall-api/src/controllers/admin/workers/workers.controller.js|83|62|v|javascriptreact
	couponsParams
b3ee6f9743d1034525d5aa12c6531583|file:///home/andres/workspace/futurymall-api/src/controllers/admin/workers/workers.controller.js|77|16|V|javascriptreact
	    ...req.body,
124c3d7728322a9270782588d5ef5292|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|43|22|V|javascriptreact
	  console.log('Hola');
e00313d0e85e9349ac9220ec70d64640|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|43|23|V|javascriptreact
	  console.log(page, itemsPerPage);
ea99b6748900b621c3bc47b60912561b|file:///home/andres/workspace/futurymall-api/src/repositories/worker/worker.repository.js|31|20|V|javascriptreact
	    // console.log(queryResult);
3f34ab3841639b94a17a1aaf01fed859|file:///home/andres/workspace/futurymall-api/src/repositories/worker/worker.repository.js|21|19|V|javascriptreact
	  console.log('Repositorio');
68f9c7180aad71566bc2154d3611c47c|file:///home/andres/workspace/futurymall-api/src/controllers/admin/workers/workers.controller.js|41|1|v|javascriptreact
	
	// GET: Find all workers
	
	router.get('/all/:idStore', async (req, res) => {
	  const { idStore } = req.params;
	  const response = JSON.parse(JSON.stringify(myGenericResponse));
	
	  try {
	    const workers = await workerService.findAllWorkers(idStore);
	    response.status = STATUS_OK;
	    response.msg_id = Date.now();
	    response.code = 200;
	    response.number_records = workers.length;
	    response.objetos = workers;
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  } catch (error) {
	    response.status = STATUS_ERROR;
	    response.code = error.httpStatus ? error.httpStatus : 500;
	    response.message = error.message;
	    response.msg_id = Date.now();
	    cleanObject.clean(response);
	    res.status(response.code).json(response);
	  }
	});
2fa47f7c65fec19cc163b195725e3844|file:///home/andres/workspace/futurymall-api/src/controllers/admin/workers/workers.controller.js|79|39|v|javascriptreact
	length
8edc47908f08ce7a27cd7017a88447d8|file:///home/andres/workspace/futurymall-api/src/utils/mailers/freeAdvice/templateForFreeAdvice.ejs|1|1|v|jst
	<div>
	  <table align="center" border="0" cellpadding="0" cellspacing="0" width="600">
	    <tr>
	      <td align="center" style="text-align: center; background-color: #2c71f0;">
	        <img
	          src="https://futurymall.com/images/landing/outline-logo.png"
	          alt=""
	          width="220"
	        />
	      </td>
	    </tr>
	    <tr>
	      <td
	        style="
	          padding: 20px 50px;
	          border-width: 0px 1px 1px 1px;
	          border-style: solid;
	          border-color: #2c71f0;
	        "
	      >
	        <h2 style="text-align: center;">Alerta, nuevo registrado</h2>
	
	        <table style="width: 100%; border-collapse: collapse;">
	          <tbody>
	            <tr>
	              <td
	                style="
	                  padding: 1rem;
	                  border: 1px solid #2c71f0;
	                  border-collapse: collapse;
	                "
	              >
	                <b>Nombres y Apellidos:</b>
	              </td>
	              <td
	                style="
	                  padding: 1rem;
	                  border: 1px solid #2c71f0;
	                  border-collapse: collapse;
	                "
	              >
	                <%= mailBody.name %>
	              </td>
	            </tr>
	            <tr>
	              <td
	                style="
	                  padding: 1rem;
	                  border: 1px solid #2c71f0;
	                  border-collapse: collapse;
	                "
	              >
	                <b>Celular:</b>
	              </td>
	              <td
	                style="
	                  padding: 1rem;
	                  border: 1px solid #2c71f0;
	                  border-collapse: collapse;
	                "
	              >
	                <%= mailBody.phone %>
	              </td>
	            </tr>
	          </tbody>
	        </table>
	      </td>
	    </tr>
	  </table>
	</div>
c848ffbf04961647cd776c4bd8f0c8f0|file:///home/andres/workspace/futurymall-api/src/utils/mailers/newWorker/index.html|21|55|v|html
	registrado
9f5ce0781ce8fb739d0777f780d5b06b|file:///home/andres/workspace/futurymall-api/src/utils/mailers/newWorker/index.html|42|1|V|html
	                <%= mailBody.name %>
73913b1d329845553dcde5ef3e4ebfbd|file:///home/andres/workspace/futurymall-api/src/utils/mailers/newWorker/index.html|34|30|v|html
	Apellidos
49129ef1ee2bdba2a4fe1216af5dd940|file:///home/andres/workspace/futurymall-api/src/utils/mailers/newWorker/index.html|54|20|v|html
	Celular
2219d7053c9f264690e15ea568aae69b|file:///home/andres/workspace/futurymall-api/src/services/freeAdvice/freeAdvice.service.js|3|1|v|javascriptreact
	const { dopplerMailing } = require('../../utils/mailers');
	
	async function sendEmail(name, phone) {
	  try {
	    const mailSettings = {
	      fromMail: 'correos@futurymall.com',
	      destinationsMail: [''],
	      subjectMail: `Futury Mall | ${name} desea una asesoría gratuita`,
	    };
	
	    const mailBody = {
	      name,
	      phone,
	    };
	
	    const template = './freeAdvice/templateForFreeAdvice.ejs';
	
	    await dopplerMailing(mailSettings, mailBody, template);
	  } catch (error) {
	    return {
	      ok: false,
	      message: error.message,
	      code: 500,
	      user: 'Cesar',
	    };
	  }
	}
00da5ee3249c90e71fce838df437337a|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|11|63|v|javascriptreact
	gratuita
f1adb3bbdb727fcc7c4e4f355084c70a|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|28|14|v|javascriptreact
	Cesar
b62da25ad75511a8669dc9a73f41c23c|file:///home/andres/workspace/futurymall-api/src/services/freeAdvice/freeAdvice.service.js|26|9|V|javascriptreact
	      user: name,
91f816fc0d4c790e89971b5e8e9d1501|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|20|36|v|javascriptreact
	templateForFreeAdvice
c8d42dec1084446a179762c4f53948e5|file:///home/andres/workspace/futurymall-api/src/services/workers/worker.service.js|20|25|v|javascriptreact
	freeAdvice
027e493d9d6c3cd524ef0e712dea98ef|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|120|1|v|javascriptreact
	  try {
	    let order = await orderRepository.findOrderById(params);
	    order = JSON.parse(JSON.stringify(order));
	    let details = await orderDetailService.findAllOrderDetailService(order._id);
	    if (details.length > 0) {
	      details = details[0];
	      details = JSON.parse(JSON.stringify(details));
	      let products = [];
	      for (let d of details.details) {
	        d = JSON.parse(JSON.stringify(d));
	        let product = await productService.findProductByIdService(d.idProduct);
	        d.product = product;
	        delete d.idProduct;
	        products.push(d);
	      }
	      details.details = products;
	      order.orderDetails = details;
	    }
	    return order;
	  } catch (error) {
	    return error.message;
	  }
e45d7a5f74400c02256a40fe4f0eaf1d|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|91|19|v|javascriptreact
	await orderDetailService.findAllOrderDetailService(ord._id);
	
5e7d64a6b69da177ef47160606ae6447|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|109|12|V|javascriptreact
	    ord.details = await orderDetailService.findAllOrderDetailService(ord._id);
1ce847b2107209fa9cf8a019872f9ab9|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|108|32|V|javascriptreact
	    ord = JSON.parse(JSON.stringify(ord));
9acb44549b41563697bb490144ec6258|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|110|9|v|javascriptreact
	status
12b62433807f134d7ba84954a53187fa|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|114|9|v|javascriptreact
	orderType
206c2a7bb0881822a24183a4df4f48d0|file:///home/andres/workspace/futurymall-api/src/services/orders/order.service.js|124|1|v|javascriptreact
	
	  // try {
	  // let order = await orderRepository.findOrderById(params);
	  // order = JSON.parse(JSON.stringify(order));
	  // let details = await orderDetailService.findAllOrderDetailService(order._id);
	  // if (details.length > 0) {
	  // details = details[0];
	  // details = JSON.parse(JSON.stringify(details));
	  // let products = [];
	  // for (let d of details.details) {
	  // d = JSON.parse(JSON.stringify(d));
	  // let product = await productService.findProductByIdService(d.idProduct);
	  // d.product = product;
	  // delete d.idProduct;
	  // products.push(d);
	  // }
	  // details.details = products;
	  // order.orderDetails = details;
	  // }
	  // return order;
	  // } catch (error) {
	  // return error.message;
	  // }
