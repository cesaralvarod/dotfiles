/**
 * modified from: https://github.com/neoclide/coc.nvim/blob/5cf5117b9fbbd32d4e4bab2116c36685fee0d881/src/__tests__/helper.ts
 */
/// <reference types="node" />
/// <reference types="node" />
import { Neovim, Window } from '@chemzqm/neovim';
import * as cp from 'child_process';
import { EventEmitter } from 'events';
import Plugin from 'coc.nvim/plugin';
import { Buffer, VimCompleteItem, Document, OutputChannel } from 'coc.nvim';
export declare class JestHelper extends EventEmitter {
    testsDir: string;
    private _nvim?;
    private _plugin?;
    proc?: cp.ChildProcess | null;
    constructor(testsDir: string);
    set nvim(_nvim: Neovim);
    get nvim(): Neovim;
    set plugin(_plugin: Plugin);
    get plugin(): Plugin;
    boot(): void;
    setupNvim(): void;
    setup(): Promise<void>;
    shutdown(): Promise<void>;
    triggerCompletion(source: string): Promise<void>;
    waitPopup(): Promise<void>;
    waitPreviewWindow(): Promise<void>;
    waitFloat(): Promise<number>;
    selectCompleteItem(idx: number): Promise<void>;
    doAction(method: string, ...args: any[]): Promise<any>;
    synchronize(): Promise<void>;
    reset(): Promise<void>;
    pumvisible(): Promise<boolean>;
    wait(ms?: number): Promise<void>;
    visible(word: string, source?: string): Promise<boolean>;
    notVisible(word: string): Promise<boolean>;
    getItems(): Promise<VimCompleteItem[]>;
    edit(file?: string): Promise<Buffer>;
    createDocument(name?: string): Promise<Document>;
    listInput(input: string): Promise<void>;
    getMarkers(bufnr: number, ns: number): Promise<[number, number, number][]>;
    getCmdline(): Promise<string>;
    updateConfiguration(key: string, value: any): () => void;
    mockFunction(name: string, result: string | number | any): Promise<void>;
    items(): Promise<VimCompleteItem[]>;
    screenLine(line: number): Promise<string>;
    getWinLines(winid: number): Promise<string[]>;
    getFloat(): Promise<Window | undefined>;
    getFloats(): Promise<Window[]>;
    getExtmarkers(bufnr: number, ns: number): Promise<[number, number, number, number, string][]>;
    waitFor<T>(method: string, args: any[], value: T): Promise<void>;
    waitValue<T>(fn: () => T, value: T): Promise<void>;
    createNullChannel(): OutputChannel;
}
export declare function rmdir(dir: string): void;
export declare function createTmpFile(content: string): Promise<string>;
export declare const jestHelper: JestHelper;
