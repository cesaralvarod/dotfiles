import { Telemetry } from '@vuedx/shared';
import { pluginManager } from '@vuedx/vue-languageservice';
import * as Path from 'path';

var version = "0.7.5";

pluginManager.fixConsole(console);
function init({ typescript }) {
    Telemetry.setup('https://a1461052e1d94c7a9ee7c3f7add71b24@o237831.ingest.sentry.io/5595721', 'typescript-plugin-vue', version, 0.001, { typescriptVersion: typescript.versionMajorMinor });
    return {
        create(info) {
            return pluginManager.create({
                ...info,
                typescript,
                typesDir: Path.resolve(__dirname, '..', 'runtime'),
            });
        },
        getExternalFiles(project) {
            return pluginManager.getExternalFiles(project);
        },
        onConfigurationChanged(config) {
            pluginManager.onConfigurationChanged(config);
        },
    };
}

/* eslint-disable import/first */
console.log = console.info = console.warn = console.debug = console.error = console.trace = () => { };

export { init as default };
//# sourceMappingURL=index.mjs.map
